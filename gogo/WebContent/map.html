<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>test</title>
    <style>
        
        
        .map_wrap,
        .map_wrap * {
            margin: 0;
            padding: 0;
            font-family: 'Malgun Gothic', dotum, 'ÎèãÏõÄ', sans-serif;
            font-size: 12px;
        }

        .map_wrap {
            position: relative;
            width: 100%;
            height: 350px;
        }

        #category {
            position: absolute;
            top: 10px;
            left: 10px;
            border-radius: 5px;
            border: 1px solid #909090;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);
            background: #fff;
            overflow: hidden;
            z-index: 2;
        }

        #category li.on {
            background: #eee;
        }

        #category li:hover {
            background: #ffe6e6;
            border-left: 1px solid #acacac;
            margin-left: -1px;
        }

        #category li span {
            display: block;
            margin: 0 auto 3px;
            width: 27px;
            height: 28px;
        }

        #category li .category_bg {
            background: url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png) no-repeat;
        }

        #category li .oil {
            background-position: -10px -108px;
        }

        #category li .carpark {
            background-position: -10px -180px;
        }

        .placeinfo_wrap {
            position: absolute;
            bottom: 28px;
            left: -150px;
            width: 300px;
        }

        .placeinfo {
            position: relative;
            width: 100%;
            border-radius: 6px;
            border: 1px solid #ccc;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
            background: #fff;
        }

        .placeinfo:nth-of-type(n) {
            border: 0;
            box-shadow: 0px 1px 2px #888;
        }

        .placeinfo_wrap .after {
            content: '';
            position: relative;
            margin-left: -12px;
            left: 50%;
            width: 22px;
            height: 12px;
            background: url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/vertex_white.png')
        }

        .placeinfo a,
        .placeinfo a:hover,
        .placeinfo a:active {
            color: #fff;
            text-decoration: none;
        }

        .placeinfo a,
        .placeinfo span {
            display: block;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        .placeinfo span {
            margin: 5px 5px 0 5px;
            cursor: default;
            font-size: 13px;
        }

        .placeinfo .title {
            font-weight: bold;
            font-size: 14px;
            border-radius: 6px 6px 0 0;
            margin: -1px -1px 0 -1px;
            padding: 10px;
            color: #fff;
            background: #d95050;
            background: #d95050 url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/arrow_white.png) no-repeat right 14px center;
        }

        .placeinfo .tel {
            color: #0f7833;
        }

        .placeinfo .jibun {
            color: #999;
            font-size: 11px;
            margin-top: 0;
        }


        .map_wrap,
        .map_wrap * {
            margin: 0;
            padding: 0;
            font-family: 'Malgun Gothic', dotum, 'ÎèãÏõÄ', sans-serif;
            font-size: 12px;
        }

        .map_wrap a,
        .map_wrap a:hover,
        .map_wrap a:active {
            color: #000;
            text-decoration: none;
        }

        .map_wrap {
            position: relative;
            width: 100%;
            height: 500px;
        }

        #menu_wrap {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 300px;
            margin: 10px 0 30px 10px;
            padding: 5px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.8);
            z-index: 1;
            font-size: 12px;
            border-radius: 10px;
        }

        .bg_white {
            background: #fff;
        }

        #menu_wrap hr {
            display: block;
            height: 1px;
            border: 0;
            border-top: 2px solid #5F5F5F;
            margin: 3px 0;
        }

        #menu_wrap .option {
            text-align: left;
        }

        #menu_wrap .option p {
            margin: 10px 0;

        }

        #menu_wrap .option button {
            margin-left: 5px;
            border-width: 0px;
        }

        #placesList li {
            list-style: none;
        }

        #placesList .item {
            position: relative;
            border-bottom: 1px solid #888;
            overflow: hidden;
            cursor: pointer;
            min-height: 65px;
        }

        #placesList .item span {
            display: block;
            margin-top: 4px;
        }

        #placesList .item h5,
        #placesList .item .info {
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        #placesList .item .info {
            padding: 10px 0 10px 55px;
        }

        #placesList .info .gray {
            color: #8a8a8a;
        }

        #placesList .info .jibun {
            padding-left: 26px;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_jibun.png) no-repeat;
        }

        #placesList .info .tel {
            color: #009900;
        }

        #placesList .item .markerbg {
            float: left;
            position: absolute;
            width: 36px;
            height: 37px;
            margin: 10px 0 0 10px;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png) no-repeat;
        }

        #placesList .item .marker_1 {
            background-position: 0 -10px;
        }

        #placesList .item .marker_2 {
            background-position: 0 -56px;
        }

        #placesList .item .marker_3 {
            background-position: 0 -102px
        }

        #placesList .item .marker_4 {
            background-position: 0 -148px;
        }

        #placesList .item .marker_5 {
            background-position: 0 -194px;
        }

        #placesList .item .marker_6 {
            background-position: 0 -240px;
        }

        #placesList .item .marker_7 {
            background-position: 0 -286px;
        }

        #placesList .item .marker_8 {
            background-position: 0 -332px;
        }

        #placesList .item .marker_9 {
            background-position: 0 -378px;
        }

        #placesList .item .marker_10 {
            background-position: 0 -423px;
        }

        #placesList .item .marker_11 {
            background-position: 0 -470px;
        }

        #placesList .item .marker_12 {
            background-position: 0 -516px;
        }

        #placesList .item .marker_13 {
            background-position: 0 -562px;
        }

        #placesList .item .marker_14 {
            background-position: 0 -608px;
        }

        #placesList .item .marker_15 {
            background-position: 0 -654px;
        }

        #pagination {
            margin: 10px auto;
            text-align: center;
        }

        #pagination a {
            display: inline-block;
            margin-right: 10px;
        }

        #pagination .on {
            font-weight: bold;
            cursor: default;
            color: #777;
        }

        #mapwrap {
            position: relative;
            overflow: hidden;
        }

        .category,
        .category * {
            margin: 0;
            padding: 0;
            color: #000;
        }

        .category {
            position: absolute;
            overflow: hidden;
            top: 300px;
            right: 10px;
            width: 100px;
            height: 60px;
            z-index: 10;
            border: 1px solid black;
            font-family: 'Malgun Gothic', 'ÎßëÏùÄ Í≥†Îîï', sans-serif;
            font-size: 10px;
            text-align: center;

            background-color: #fff;
        }

        .category .menu_selected {
            background: #FF5F4A;
            color: #fff;
            border-left: 0px solid #915B2F;
            border-right: 0px solid #915B2F;
        }

        .category li {
            list-style: none;
            float: left;
            width: -40px;
            height: 47px;
            padding-top: 10px;
            cursor: pointer;
        }

        .category .ico_comm {
            display: block;
            margin: 0 auto 5px;
            width: 50px;
            height: 20px;
        }

        .category .ico_store {
            background-position: -0px -36px;
            background: url('https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F7kvaq%2FbtrZ9FIvzp2%2FiVbRKzj70VmOgY2R9er7ok%2Fimg.png')no-repeat 10px -5px;
        }

        .category .ico_carpark {
            background-position: -0px -72px;
            background: url('https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FpKV0X%2FbtrZ78dmf7p%2FLMPguVHNKNifhvFeeEKvkK%2Fimg.png') no-repeat 7px -4px;
        }


        .category .ico_coffee {
            display: none
        }

        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .map_wrap {
            position: relative;
            overflow: hidden;
            width: 100%;
            height: 350px;
        }

        .radius_border {
            border: 1px solid #919191;
            border-radius: 5px;
        }

        .custom_typecontrol {
            position: absolute;
            top: 10px;
            right: 10px;
            overflow: hidden;
            width: 130px;
            height: 30px;
            margin: 0;
            padding: 0;
            z-index: 1;
            font-size: 12px;
            font-family: 'Malgun Gothic', 'ÎßëÏùÄ Í≥†Îîï', sans-serif;
        }

        .custom_typecontrol span {
            display: block;
            width: 65px;
            height: 30px;
            float: left;
            text-align: center;
            line-height: 30px;
            cursor: pointer;
        }

        .custom_typecontrol .btn {
            background: #fff;
            background: linear-gradient(#fff, #e6e6e6);
        }

        .custom_typecontrol .btn:hover {
            background: #f5f5f5;
            background: linear-gradient(#f5f5f5, #e3e3e3);
        }

        .custom_typecontrol .btn:active {
            background: #e6e6e6;
            background: linear-gradient(#e6e6e6, #fff);
        }

        .custom_typecontrol .selected_btn {
            color: #fff;
            background: #425470;
            background: linear-gradient(#425470, #5b6d8a);
        }

        .custom_typecontrol .selected_btn:hover {
            color: #fff;
        }

        .custom_zoomcontrol {
            position: absolute;
            top: 50px;
            right: 10px;
            width: 36px;
            height: 80px;
            overflow: hidden;
            z-index: 1;
            background-color: #f5f5f5;
        }

        .custom_zoomcontrol span {
            display: block;
            width: 36px;
            height: 40px;
            text-align: center;
            cursor: pointer;
        }

        .custom_zoomcontrol span img {
            width: 15px;
            height: 15px;
            padding: 12px 0;
            border: none;
        }

        .custom_zoomcontrol span:first-child {
            border-bottom: 1px solid #bfbfbf;
        }

        .MapControlView.accessLocation:hover {
            background-position: -150px -400px;
        }

        .MapControlView.accessLocation {
            display: block;
            position: relative;
            width: 32px;
            height: 32px;
            padding: 20px 20px 20px;
            background: url(http://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) no-repeat -150px -450px;
        }

        .MapControlView.body {
            font: 12px/1.5 'Malgun Gothic', 'ÎèãÏõÄ', dotum, sans-serif;
            background: #fff;
            color: #333;
            letter-spacing: -1px;
        }

        .sidebar {
            display: inline-block;
            position: fixed;
            margin: 10px 0 30px 10px;
            padding: 5px;
            overflow: scroll;
            overflow-y: auto;
            overflow-x: hidden;
            z-index: 1;
            font-size: 12px;
            border-radius: 10px;
            top: 10px;
            bottom: 0;
            left: -2800px;
            width: 400px;
            background-color: rgba(255, 255, 255, 0.8);
            height: 950px;
            transition: left 0.5s;

        }

        .sidebar.active {
            left: 310px;
        }

        .locatedStyle {
            position: fixed;
            right: 10px;
            top: 138px;
            display: block;
            width: 35px;
            height: 35px;
            padding: 20px 20px 20px;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) no-repeat -150px -350px;
            border-width: 0px;
        }

        .searchIcon {
            border-width: 3px;
            font-size: 20px;

            width: 190px;
            height: 35px;
            margin-left: 90px;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/ico_search.png) no-repeat -100px -120px;
            background-position-x: 110px;
        }

        .parkingIcon {
            position: absolute;
            top: 170px;
            left: 25px;
            border-width: 0px;
            font-size: 10px;
            width: 25px;
            height: 27.1px;
            color: #009900;

            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) no-repeat -228px -217px;
        }

        .gasIcon {
            position: absolute;
            top: 170px;
            left: 55px;
            border-width: 0px;
            font-size: 10px;
            width: 25px;
            height: 28px;
            color: #009900;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) no-repeat -208px -217px;

        }

        .logoText {
            position: absolute;
            top: 10px;
            left: 150px;
            color: #160d69;
            font-size: 30px;

        }

        .logoText2 {
            position: absolute;
            top: 70px;
            left: 150px;
            color: #160d69;

        }

        .parkinglotlayer {
            color: #160d69;
        }

        .logoImage {
            nav-left: 100px;
            border-width: 3px;
            width: 150px;
            height: 150px;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FZsIjJ%2FbtrZAhhWFv1%2FvvTo9ns0BKB0r5h8z0ZShK%2Fimg.png) no-repeat -10px -20px;

        }

        .parkingname {
            top: 10px;
            text-align: center;
            color: #160d69;
            font-size: 30px;
        }

        .parkingaddr {
            font-size: 20px;
            color: #160d69;
            text-align: center;
        }

        .mainstar {
            text-align: center;
            font-size: medium;
        }

        .ulstyle {
            margin-top: 10px;
            display: inline-block;
            list-style: none;
        }

        .gyeong {
            margin-left: 30px;
            display: inline-block;
            border-right: 2px solid hotpink;
            padding: center;
            padding-right: 110px;
            padding-bottom: 140px;
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 20px;
        }

        .hwi {
            margin-left: 60px;
            display: inline-block;
            font-size: 18px;
            padding-left: 20px;
            text-align: center;
            font-weight: 800;
        }

        /*            Ï†ïÎ≥¥ ÏûÖÎ†•Ï∞Ω Î≤ÑÌäº             ---------------------------- */
        .innerbutton {
            border-width: 0px;
        }

        .up {
            background: url(https://blog.kakaocdn.net/dn/oleHY/btrZrTWwNLE/xFHG1FPVraApQFIRMPMf61/img.gif);
            width: 80px;
            height: 80px;
            margin-left: 120px;
            margin-top: -80px;

        }

        .lefttext {
            display: inline-block;
            position: absolute;
            left: 70px;
            top: 340px;
            font-size: 30px;
            bottom: 50px;
        }

        .down {
            display: inline-block;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FwPuS8%2FbtrZre6WjYG%2F2VkU75eFvYDwf2uEwBlG20%2Fimg.png);
            width: 30px;
            height: 30px;
            margin-left: 300px;
            margin-top: -200px;
        }

        .righttext {
            display: inline-block;
            position: absolute;
            font-size: 30px;
            top: 380px;
            left: 270px;
        }

        .upup {
            display: inline-block;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FPj8Z0%2FbtrZqVT5X7K%2F69YwkRnHHEDJ3briW96MhK%2Fimg.png);
            width: 60px;
            height: 60px;
        }

        .downdown {
            display: inline-block;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FeDufnR%2FbtrZuGui9Ax%2Ft6S0Y5m8YqXNTdBjsrjLN0%2Fimg.png);
            width: 70px;
            height: 60px;
        }

        .smalltext {
            position: absolute;
            left: 70px;
        }

        .smalltext2 {
            position: absolute;
            left: 280px;
        }

        .chartshow {
            display: block;
            position: absolute;
        }

        .review {
            font-size: 50px;
            height: auto;
        }

        .busan {
            position: absolute;
            top: 110px;
            left: 60px;
            font-size: 20px;
        }

        .sigungu {
            position: relative;
            top: -5px;
        }


        .makeMarker {
            position: fixed;
            right: 30px;
            top: 180px;
            display: block;
            width: 120px;
            height: 120px;
            padding: 20px 20px 20px;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FkKkSb%2FbtrZBswymE9%2FNeYXXnsq79d4Mk6vEl3gKk%2Fimg.png) no-repeat;
        }

        .closeSidebar {
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbJA4ER%2FbtrZQcf4KIc%2FjxFzGryMcqMRHqg16MKP4K%2Fimg.png)no-repeat 0px 0px;
            width: 100px;
            height: 50px;
            position: fixed;
        }




        .review1 {
            margin-top: 10px;
            font-size: 20px;
            height: auto;
        }

        .popupArea {
            margin: 7px;
            display: flex;
            width: 100%;
            height: 30%;
            padding: 5px;
            border-radius: 10px;
        }

        .reviewInput {
            width: 320px;
            height: 30%;
            padding: 5px;
            border-color: #160d69;
        }

        .reviewWrite {
            margin-left: 50px;
            border-color: #160d69;
            border-width: 1px;
            
            
        }

        .review2 {
            width: 400px;
            height: 250px;
            text-align: center;
            margin-top: 20px;
            
        }

        /* Î™®Îã¨Ï∞Ω */
        button {
          background-color: #F9B514;
          padding: 5px 10px;
          border-radius: 4px;
          cursor: pointer;
        }

        .modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
        }

        /* .modal .bg {
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.6);
        } */

        .modalBox {
          position: absolute;
          background-color: #fff;
          width: 400px;
          height: 200px;
          padding: 15px;
        }

        .modalBox button {
          display: block;
          width: 80px;
          margin: 0 auto;
        }

        .hidden {
          display: none;
        }

        /* Î≥ÑÏ†ê */
        /* component */

        .star-rating {
        /* border:solid 1px #ccc; */
        display:flex;
        flex-direction: row-reverse;
        font-size:1.5em;
        justify-content:space-around;
        padding:0 .2em;
        text-align:center;
        width:5em;
        }

        .star-rating input {
        display:none;
        }

        .star-rating label {
        color:#ccc;
        cursor:pointer;
        }

        .star-rating :checked ~ label {
        color:#f90;
        }

        .star-rating label:hover,
        .star-rating label:hover ~ label {
        color:#fc0;
        }

        .openBtn{
            position: absolute;
            right: 20px;
            top: 760px;
        }
        
    </style>




    <div class="map_wrap, mapwrap">
        <div id="mapwrap">
            <!-- ÏßÄÎèÑÍ∞Ä ÌëúÏãúÎê† div -->

            <div id="map" style="width:100%;height: 950px;"></div>

            <!-- ÏßÄÎèÑ ÏúÑÏóê ÌëúÏãúÎê† ÎßàÏª§ Ïπ¥ÌÖåÍ≥†Î¶¨ -->
            <div class="category">

                <ul>
                    <li id="coffeeMenu" onclick="changeMarker('coffee')">
                        <span class="ico_comm ico_coffee"></span>
                    </li>
                    <a class="storeMenus" onclick="asd()">
                    <li id="storeMenu"  onclick="changeMarker('store')">
                        <span  class="ico_comm ico_store"></span>
                        Ï£ºÏú†ÏÜå
                    </li>
                </a>
                    <li id="carparkMenu" onclick="changeMarker('carpark')">
                        <span class="ico_comm ico_carpark"></span>
                        Ï£ºÏ∞®Ïû•
                    </li>

                </ul>


            </div>


            <!-- ÏßÄÎèÑÌÉÄÏûÖ Ïª®Ìä∏Î°§ div ÏûÖÎãàÎã§ -->
            <div class="custom_typecontrol radius_border">
                <span id="btnRoadmap" class="selected_btn" onclick="setMapType('roadmap')">ÏßÄÎèÑ</span>
                <span id="btnSkyview" class="btn" onclick="setMapType('skyview')">Ïä§Ïπ¥Ïù¥Î∑∞</span>
            </div>

            <!-- ÏßÄÎèÑ ÌôïÎåÄ, Ï∂ïÏÜå Ïª®Ìä∏Î°§ div ÏûÖÎãàÎã§ -->
            <div class="custom_zoomcontrol radius_border">
                <span onclick="zoomIn()"><img
                        src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_plus.png" alt="ÌôïÎåÄ"></span>
                <span onclick="zoomOut()"><img
                        src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_minus.png" alt="Ï∂ïÏÜå"></span>
            </div>

        </div>

</head>

<body>


    <!-- --------------------------------------ÏÇ¨Ïù¥ÎìúÎ∞î---------------- -->

    <div id="menu_wrap" class="bg_white">
        <div class="option">
            <div>

                <form onsubmit="clearSearchBox(searchPlaces()); return false;">
                    <button class="logoImage"></button>
                    <h1 class="logoText">Í≥µÏòÅÏù¥</h1>
                    <h2 class="logoText2" id="nick">(002)</h2>
                    <button onclick="" id="parkingbtn" class="parkingIcon"></button>
                    <button class="gasIcon"></button>



                    <!-- =============Í∞Å Íµ¨ Î≥ÑÎ°ú Ïó∞Í≤∞ÏûëÏóÖ==================================== -->

                    <h3 class="busan">Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú</h3>
                    <select class="sigungu" style="width:102px;" id="SIGUNGU_NM0" name="SIGUNGU_NM0">
                        <option value="">Ïãú/Íµ∞/Íµ¨</option>
                        <option value="Í∞ïÏÑúÍµ¨">Í∞ïÏÑúÍµ¨</option>
                        <option value="Í∏àÏ†ïÍµ¨">Í∏àÏ†ïÍµ¨</option>
                        <option value="Í∏∞Ïû•Íµ∞">Í∏∞Ïû•Íµ∞</option>
                        <option value="ÎÇ®Íµ¨">ÎÇ®Íµ¨</option>
                        <option value="ÎèôÍµ¨">ÎèôÍµ¨</option>
                        <option value="ÎèôÎûòÍµ¨">ÎèôÎûòÍµ¨</option>
                        <option value="Î∂ÄÏÇ∞ÏßÑÍµ¨">Î∂ÄÏÇ∞ÏßÑÍµ¨</option>
                        <option value="Î∂ÅÍµ¨">Î∂ÅÍµ¨</option>
                        <option value="ÏÇ¨ÏÉÅÍµ¨">ÏÇ¨ÏÉÅÍµ¨</option>
                        <option value="ÏÇ¨ÌïòÍµ¨">ÏÇ¨ÌïòÍµ¨</option>
                        <option value="ÏÑúÍµ¨">ÏÑúÍµ¨</option>
                        <option value="ÏàòÏòÅÍµ¨">ÏàòÏòÅÍµ¨</option>
                        <option value="Ïó∞Ï†úÍµ¨">Ïó∞Ï†úÍµ¨</option>
                        <option value="ÏòÅÎèÑÍµ¨">ÏòÅÎèÑÍµ¨</option>
                        <option value="Ï§ëÍµ¨">Ï§ëÍµ¨</option>
                        <option value="Ìï¥Ïö¥ÎåÄÍµ¨">Ìï¥Ïö¥ÎåÄÍµ¨</option>
                    </select>



                    <div>
                        <button class="makeMarker" onclick="selectOverlay('MARKER')"></button>
                    </div>

                    <input type="text" id="keyword" size="20" class="searchIcon">
                </form>

                <div>
                   <!-- ÌèºÏÉùÏÑ± -->
                   <form id="mainform">
                    <div class="sidebar">
                        <button class="closeSidebar" onclick="closeSidebar()"></button>
                        <div class="sidebarHead" style="height: 12%;">
                            <p class="parkingname"> Ï£ºÏ∞®Ïû•Ïù¥Î¶Ñ </p>
                            <p class="parkingaddr" type="text" id="namebtn" name="storename"></p>
                            <p class="mainstar"> ÌèâÏ†ê : ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ </p>

                        </div>

                        <hr>
                        <div style="height: 60%;">

                            <p style="font-size: large;text-align : center; "> ÎèôÍµ¨ÏóêÏÑú: <span>3Î≤àÏß∏Î°ú ÏãºÏßë!</span></p>

                            <p style="color: red; text-align: center; font-size: 20px;"> Ïò§ÎäòÏùò Ïú†Í∞Ä Ï†ïÎ≥¥ </p>

                            <p>
                            <ul class="ulstyle">
                                <li>
                                    <div class="gyeong"> Í≤ΩÏú† </div>
                                    <div class="hwi"> ÌúòÎ∞úÏú† </div>
                                    <div class="up">
                                        <p class="lefttext">2000</p>
                                    </div>
                                    <div class="down">
                                        <p class="righttext">3500</p>
                                    </div>
                                    <div class="smalltext" style="color: #ff7200;text-align: left;">+102Ïõê</div>
                                    <div class="smalltext2" style="color: #ff7200; text-align: right; ">+12Ïõê</div>
                                </li>

                            </ul>


                            <hr>
                            <p class="upup">Íµ¨ÏóêÏÑú Î™áÎ≤àÏß∏Î°ú ÏãºÏßÄ ÎπÑÍµê</p>

                            <p class="downdown"> 7ÏùºÏπò ÌèâÍ∑†Í∞ÄÍ≤©Í≥º Ïò§ÎäòÏùò Í∞ÄÍ≤© ÎπÑÍµê</p>
                            <canvas id="myChart" style="width: 200px;"></canvas>



                        </div>
                    </form>
                        <!-- ---------------------review--------------------------------------------- -->.

                    
                        <hr style="margin-top: 20px;">
                        <form id="reviewform">
                            <div class="review1">
                                <span style="margin-left: 20px; color: #160d69;">Î∞©Î¨∏Ïûê Î¶¨Î∑∞</span>
                                <button class="openBtn">ÏûëÏÑ±ÌïòÍ∏∞</button>
                                <div class="modal hidden">
                                    <div class="bg"></div>
                                    <div class = "modalBox" style="display: flex;align-items:center;flex-direction: column;justify-content:space-around">
                                        <p>‚ò∫Ô∏èüòäüò•</p>
                                        <div class="star-rating">
                                            <input type="radio" id="5-stars" name="rating" value="5" />
                                            <label for="5-stars" class="star">&#9733;</label>
                                            <input type="radio" id="4-stars" name="rating" value="4" />
                                            <label for="4-stars" class="star">&#9733;</label>
                                            <input type="radio" id="3-stars" name="rating" value="3" />
                                            <label for="3-stars" class="star">&#9733;</label>
                                            <input type="radio" id="2-stars" name="rating" value="2" />
                                            <label for="2-stars" class="star">&#9733;</label>
                                            <input type="radio" id="1-star" name="rating" value="1" />
                                            <label for="1-star" class="star">&#9733;</label>
                                          </div>
                                        <textarea class="reviewInput" name="reviewInput" placeholder="Î∞©Î¨∏Ìïú Í∞ÄÍ≤åÎäî Ïñ¥Îï†ÎÇòÏöî? Î¶¨Î∑∞Î•º ÎÇ®Í≤®Ï£ºÏÑ∏Ïöî." onclick="joinCheck()"></textarea>
                                        <div style="display: flex;">
                                            <button class="reviewBtn" id="reviewBtn" type="submit" >Îì±Î°ù</button>
                                            <button class="closeBtn">Îã´Í∏∞</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                                <hr style="border-top: 1px dotted #8c8b8b;">
                            </div>
                        <div class="review2">
                            <div>
                                <span class="userReview" name="userReview">Îì±Î°ù Îêú Î¶¨Î∑∞Í∞Ä ÏóÜÏäµÎãàÎã§.</span>
                            </div>
                        </div>


                        <script>
                            let nick = document.getElementById("nick");
                            let reviewBtn = document.getElementById("reviewBtn");
                            let grade = document.getElementById("grade");
                            let userReview = document.getElementsByName("userReview");
                            let storename = document.getElementById("namebtn");
                            let reviewusername = document.getElementById("reviewusername");
                            
                            var nickname = sessionStorage.getItem("userName")
                            
                            let reviewform = document.getElementById("reviewform");
                            let mainform = document.getElementById("mainform");
                            
                            const open = () => {
                                document.querySelector(".modal").classList.remove("hidden");
                            }

                            const close = () => {
                                document.querySelector(".modal").classList.add("hidden");
                            }

                            document.querySelector(".openBtn").addEventListener("click", open);
                            document.querySelector(".closeBtn").addEventListener("click", close);
                            document.querySelector(".bg").addEventListener("click", close);

                            
                            window.addEventListener("load", function (e) {
                                console.log(nickname);
                                nick.innerHTML = nickname + "Îãò^^";
                            })

                            function win_open(page, name) {
                                 // window.open("ÌåùÏóÖÎê† Î¨∏ÏÑú Í≤ΩÎ°ú","ÌåùÏóÖÎê† Î¨∏ÏÑú Ïù¥Î¶Ñ","ÏòµÏÖò(ÏúÑÏπò, barÌëúÏãú, ÌÅ¨Í∏∞ Îì±)");
                                    window.open(page,name,"width=300, height=400, left=0, top=0");
                            };

                            
                            function joinCheck() {
                                if (nickname == "null") {
                                    console.log(nickname);
                                    window.location = "http://127.0.0.1:5500/002/join.html"
                                }
                            }
                            
                            
                            reviewform.addEventListener("submit", function (e) {
                                e.preventDefault();
                                    
                            })
                            
                            reviewBtn.addEventListener("click", (e) => {
                                console.log("ÎàåÎ¶º");
                                    
                                    const rform = new FormData(reviewform);
                                    rform.append("username", nickname);
                                    rform.append("storename",storename.innerText);

                                    fetch("http://localhost:8080/gonggongyung/gogo/review", {
                                        method: "POST",
                                        body : new URLSearchParams([...rform.entries()]), // post bodyÌòïÏãù
                                        headers: {
                                            "Content-Type": "application/x-www-form-urlencoded",
                                        }
                                    })
                                
                                // .then((resp) => {
                                //         console.log(resp.status);
                                //         return resp.json();
                                //     })
                                //     .then((obj) => {
                                //         console.log(nickName)
                                //         console.log(reviewInput.values)
                                //     }).catch((e) => { console.log(e) })

                            });


                        </script>


                    </div>



                    <!-- <button onclick="toggleSidebar(),showchart()">ÏÇ¨Ïù¥ÎìúÎ∞î</button> -->
                </div>
                <div>
                    <button onclick="getCurrentPos()" class="locatedStyle"></button>
                </div>

            </div>
        </div>
        <hr>
        <ul id="placesList"></ul>
        <div id="pagination"></div>
    </div>

    </div>



    <!-- ÏßÄÎèÑÎ•º ÌëúÏãúÌï† div ÏûÖÎãàÎã§ -->
    <div id="map" style="width:100%; height:0;"></div>




    <script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d5dac7b6e7ff06b208b6b3a693668ba9&libraries=services,clusterer,drawing"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>







    <script>
        //Ïä§ÌÅ¨Î¶ΩÌä∏---------------------








        // ÌòúÎèÑ ÎπåÎî© Ï§ëÏã¨ ÏßÄÎèÑ ÏÑ§Ï†ï




        var mapContainer = document.getElementById('map'), // ÏßÄÎèÑÎ•º ÌëúÏãúÌï† div 
            mapOption = {
                center: new kakao.maps.LatLng(35.15959895331954, 129.0601078522617), // ÏßÄÎèÑÏùò Ï§ëÏã¨Ï¢åÌëú
                level: 2 // ÏßÄÎèÑÏùò ÌôïÎåÄ Î†àÎ≤®
            };







        // ÏùºÎ∞ò ÏßÄÎèÑÏôÄ Ïä§Ïπ¥Ïù¥Î∑∞Î°ú ÏßÄÎèÑ ÌÉÄÏûÖÏùÑ Ï†ÑÌôòÌï† Ïàò ÏûàÎäî ÏßÄÎèÑÌÉÄÏûÖ Ïª®Ìä∏Î°§ÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§
        var mapTypeControl = new kakao.maps.MapTypeControl();




        //------------------------------------------------------------------------------------





        // ÌòúÎèÑÎπåÎî© Î∞è Ï£ºÏ∞®Ïû•, Ï£ºÏú†ÏÜå

        var imageSrc = 'https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FG3Iqf%2FbtrY7MDoFpt%2FYI9Vj8cKsPftBBdKOKvOQK%2Fimg.png', // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏùò Ï£ºÏÜåÏûÖÎãàÎã§    
            imageSize = new kakao.maps.Size(64, 69), // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏùò ÌÅ¨Í∏∞ÏûÖÎãàÎã§
            imageOption = { offset: new kakao.maps.Point(27, 69) }; // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏùò ÏòµÏÖòÏûÖÎãàÎã§. ÎßàÏª§Ïùò Ï¢åÌëúÏôÄ ÏùºÏπòÏãúÌÇ¨ Ïù¥ÎØ∏ÏßÄ ÏïàÏóêÏÑúÏùò Ï¢åÌëúÎ•º ÏÑ§Ï†ïÌï©ÎãàÎã§
        // ÎßàÏª§Ïùò Ïù¥ÎØ∏ÏßÄÏ†ïÎ≥¥Î•º Í∞ÄÏßÄÍ≥† ÏûàÎäî ÎßàÏª§Ïù¥ÎØ∏ÏßÄÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§
        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption),
            markerPosition = new kakao.maps.LatLng(35.15959895331954, 129.0601078522617); // ÎßàÏª§Í∞Ä ÌëúÏãúÎê† ÏúÑÏπòÏûÖÎãàÎã§



        // ÎßàÏª§Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
        var marker = new kakao.maps.Marker({
            position: markerPosition,
            image: markerImage // ÎßàÏª§Ïù¥ÎØ∏ÏßÄ ÏÑ§Ï†ï 
        });

        // ÎßàÏª§Í∞Ä ÏßÄÎèÑ ÏúÑÏóê ÌëúÏãúÎêòÎèÑÎ°ù ÏÑ§Ï†ïÌï©ÎãàÎã§

        // ÎßàÏª§Í∞Ä ÌëúÏãúÎê† ÏúÑÏπòÏûÖÎãàÎã§ 

        // ÎßàÏª§Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
        var marker = new kakao.maps.Marker({
        });
        var map = new kakao.maps.Map(mapContainer, mapOption); // ÏßÄÎèÑÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§

        //-------------------------------make marker---------------------------------------------------------

        var options = { // Drawing ManagerÎ•º ÏÉùÏÑ±Ìï† Îïå ÏÇ¨Ïö©Ìï† ÏòµÏÖòÏûÖÎãàÎã§
            map: map, // Drawing ManagerÎ°ú Í∑∏Î¶¨Í∏∞ ÏöîÏÜåÎ•º Í∑∏Î¶¥ map Í∞ùÏ≤¥ÏûÖÎãàÎã§
            drawingMode: [ // drawing managerÎ°ú Ï†úÍ≥µÌï† Í∑∏Î¶¨Í∏∞ ÏöîÏÜå Î™®ÎìúÏûÖÎãàÎã§
                kakao.maps.drawing.OverlayType.MARKER,
            ],
            // ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ï†úÍ≥µÌï† Í∑∏Î¶¨Í∏∞ Í∞ÄÏù¥Îìú Ìà¥ÌåÅÏûÖÎãàÎã§
            // ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÎèÑÌòïÏùÑ Í∑∏Î¶¥Îïå, ÎìúÎûòÍ∑∏Ìï†Îïå, ÏàòÏ†ïÌï†Îïå Í∞ÄÏù¥Îìú Ìà¥ÌåÅÏùÑ ÌëúÏãúÌïòÎèÑÎ°ù ÏÑ§Ï†ïÌï©ÎãàÎã§
            markerOptions: { // ÎßàÏª§ ÏòµÏÖòÏûÖÎãàÎã§ 
                draggable: true, // ÎßàÏª§Î•º Í∑∏Î¶¨Í≥† ÎÇòÏÑú ÎìúÎûòÍ∑∏ Í∞ÄÎä•ÌïòÍ≤å Ìï©ÎãàÎã§ 
                removable: true // ÎßàÏª§Î•º ÏÇ≠Ï†ú Ìï† Ïàò ÏûàÎèÑÎ°ù x Î≤ÑÌäºÏù¥ ÌëúÏãúÎê©ÎãàÎã§  
            },
        };

        // ÏúÑÏóê ÏûëÏÑ±Ìïú ÏòµÏÖòÏúºÎ°ú Drawing ManagerÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§
        var manager = new kakao.maps.drawing.DrawingManager(options);

        // Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú Ìò∏Ï∂úÎêòÎäî Ìï∏Îì§Îü¨ ÏûÖÎãàÎã§
        function selectOverlay(type) {
            // Í∑∏Î¶¨Í∏∞ Ï§ëÏù¥Î©¥ Í∑∏Î¶¨Í∏∞Î•º Ï∑®ÏÜåÌï©ÎãàÎã§
            manager.cancel();

            // ÌÅ¥Î¶≠Ìïú Í∑∏Î¶¨Í∏∞ ÏöîÏÜå ÌÉÄÏûÖÏùÑ ÏÑ†ÌÉùÌï©ÎãàÎã§
            manager.select(kakao.maps.drawing.OverlayType[type]);
        }

        // -------------------------------------------------------------------------------------------------------------------------------------------------

        // Ïª§ÌîºÏàç ÎßàÏª§Í∞Ä ÌëúÏãúÎê† Ï¢åÌëú Î∞∞Ïó¥ÏûÖÎãàÎã§
        var coffeePositions = [
            new kakao.maps.LatLng(37.499590490909185, 127.0263723554437),
            new kakao.maps.LatLng(37.499427948430814, 127.02794423197847),
            new kakao.maps.LatLng(37.498553760499505, 127.02882598822454),
            new kakao.maps.LatLng(37.497625593121384, 127.02935713582038),
            new kakao.maps.LatLng(37.49646391248451, 127.02675574250912),
            new kakao.maps.LatLng(37.49629291770947, 127.02587362608637),
            new kakao.maps.LatLng(37.49754540521486, 127.02546694890695)
        ];

       // Ìé∏ÏùòÏ†ê ÎßàÏª§Í∞Ä ÌëúÏãúÎê† Ï¢åÌëú Î∞∞Ïó¥ÏûÖÎãàÎã§
        
        function asd(){
            let storeMenu = document.getElementsByClassName("storeMenus");
            
                fetch("http://localhost:8080/gonggongyung/gogo/gasstation/", { // ÎàÑÎ•¥Î©¥ Í∞ÄÎùº
            }).then((response) => response.json())
              .then((data) => {
                for(let i = 0; i < data.length; i+=2){
                    storePositions.push(new kakao.maps.LatLng(data[i], data[i+1]));
                    console.log(storePositions);
                }
            })
            createStoreMarkers();
        }

        var storePositions = [
        ];


        // Ï£ºÏ∞®Ïû• ÎßàÏª§Í∞Ä ÌëúÏãúÎê† Ï¢åÌëú Î∞∞Ïó¥ÏûÖÎãàÎã§
        var carparkPositions = [
            new kakao.maps.LatLng(35.213725, 129.080538),
            new kakao.maps.LatLng(35.162218, 128.986650),
            new kakao.maps.LatLng(35.207310, 129.078527),
            new kakao.maps.LatLng(35.218925, 129.085617),
            new kakao.maps.LatLng(35.228187, 129.089228),
            new kakao.maps.LatLng(35.231583, 129.089107),
            new kakao.maps.LatLng(35.239165, 129.088416),
            new kakao.maps.LatLng(35.245568, 129.091272),
            new kakao.maps.LatLng(35.271787, 129.086944),
            new kakao.maps.LatLng(35.283211, 129.095100),
            new kakao.maps.LatLng(35.104432, 128.964301),
            new kakao.maps.LatLng(35.148665, 129.001262),
            new kakao.maps.LatLng(35.169164, 129.177395),
            new kakao.maps.LatLng(35.158553, 129.157447),
            new kakao.maps.LatLng(35.154860, 129.131361),
            new kakao.maps.LatLng(35.156248, 129.133637),
            new kakao.maps.LatLng(35.167034, 129.170428),
            new kakao.maps.LatLng(35.157361, 129.151082),
            new kakao.maps.LatLng(35.202879, 129.131858),
            new kakao.maps.LatLng(35.176877, 129.126678),
            new kakao.maps.LatLng(35.236981, 129.016439),
            new kakao.maps.LatLng(35.173494, 129.173747),
            new kakao.maps.LatLng(35.167026, 129.170446),
            new kakao.maps.LatLng(35.167749, 129.175966),
            new kakao.maps.LatLng(35.080702, 129.046095),
            new kakao.maps.LatLng(35.112920, 129.027845),
            new kakao.maps.LatLng(35.167635, 129.178492),
            new kakao.maps.LatLng(35.116586, 129.020095),
            new kakao.maps.LatLng(35.161695, 129.170300),
            new kakao.maps.LatLng(35.220937, 129.146448),
        ];

        var markerImageSrc = 'https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FczwJDf%2Fbtr0aQQF3K0%2FAsphV4K9VzNi3sKyOLJXRK%2Fimg.png';  // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏùò Ï£ºÏÜåÏûÖÎãàÎã§. Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄ ÏûÖÎãàÎã§
        coffeeMarkers = [], // Ïª§ÌîºÏàç ÎßàÏª§ Í∞ùÏ≤¥Î•º Í∞ÄÏßÄÍ≥† ÏûàÏùÑ Î∞∞Ïó¥ÏûÖÎãàÎã§
            storeMarkers = [], // Ìé∏ÏùòÏ†ê ÎßàÏª§ Í∞ùÏ≤¥Î•º Í∞ÄÏßÄÍ≥† ÏûàÏùÑ Î∞∞Ïó¥ÏûÖÎãàÎã§
            carparkMarkers = []; // Ï£ºÏ∞®Ïû• ÎßàÏª§ Í∞ùÏ≤¥Î•º Í∞ÄÏßÄÍ≥† ÏûàÏùÑ Î∞∞Ïó¥ÏûÖÎãàÎã§


        createCoffeeMarkers(); // Ïª§ÌîºÏàç ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† Ïª§ÌîºÏàç ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌï©ÎãàÎã§
        createStoreMarkers(); // Ìé∏ÏùòÏ†ê ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† Ìé∏ÏùòÏ†ê ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌï©ÎãàÎã§
        createCarparkMarkers(); // Ï£ºÏ∞®Ïû• ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† Ï£ºÏ∞®Ïû• ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌï©ÎãàÎã§

        changeMarker(''); // ÏßÄÎèÑÏóê Ïª§ÌîºÏàç ÎßàÏª§Í∞Ä Î≥¥Ïù¥ÎèÑÎ°ù ÏÑ§Ï†ïÌï©ÎãàÎã§    


        // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏùò Ï£ºÏÜåÏôÄ, ÌÅ¨Í∏∞, ÏòµÏÖòÏúºÎ°ú ÎßàÏª§ Ïù¥ÎØ∏ÏßÄÎ•º ÏÉùÏÑ±ÌïòÏó¨ Î¶¨ÌÑ¥ÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function createMarkerImage(src, size, options) {
            var markerImage = new kakao.maps.MarkerImage(src, size, options);
            return markerImage;
        }

        // Ï¢åÌëúÏôÄ ÎßàÏª§Ïù¥ÎØ∏ÏßÄÎ•º Î∞õÏïÑ ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÏó¨ Î¶¨ÌÑ¥ÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function createMarker(position, image) {
            var marker = new kakao.maps.Marker({
                position: position,
                image: image
            });

            return marker;
        }

        // Ïª§ÌîºÏàç ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† Ïª§ÌîºÏàç ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function createCoffeeMarkers() {

            for (var i = 0; i < coffeePositions.length; i++) {

                var imageSize = new kakao.maps.Size(22, 26),
                    imageOptions = {
                        spriteOrigin: new kakao.maps.Point(10, 0),
                        spriteSize: new kakao.maps.Size(36, 98)
                    };

                // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏôÄ ÎßàÏª§Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
                var markerImage = createMarkerImage(markerImageSrc, imageSize, imageOptions),
                    marker = createMarker(coffeePositions[i], markerImage);

                // ÏÉùÏÑ±Îêú ÎßàÏª§Î•º Ïª§ÌîºÏàç ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌï©ÎãàÎã§
                coffeeMarkers.push(marker);
            }
        }

        // Ïª§ÌîºÏàç ÎßàÏª§Îì§Ïùò ÏßÄÎèÑ ÌëúÏãú Ïó¨Î∂ÄÎ•º ÏÑ§Ï†ïÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function setCoffeeMarkers(map) {
            for (var i = 0; i < coffeeMarkers.length; i++) {
                coffeeMarkers[i].setMap(map);
            }
        }

        // Ìé∏ÏùòÏ†ê ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† Ìé∏ÏùòÏ†ê ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function createStoreMarkers() {
            for (var i = 0; i < storePositions.length; i++) {

                var imageSize = new kakao.maps.Size(22, 26),
                    imageOptions = {
                        spriteOrigin: new kakao.maps.Point(10, 0),
                        spriteSize: new kakao.maps.Size(36, 98)
                    };

                // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏôÄ ÎßàÏª§Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
                var markerImage = createMarkerImage(markerImageSrc, imageSize, imageOptions),
                    marker = createMarker(storePositions[i], markerImage);

                // ÏÉùÏÑ±Îêú ÎßàÏª§Î•º Ìé∏ÏùòÏ†ê ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌï©ÎãàÎã§
                storeMarkers.push(marker);
            }
        }

        // Ìé∏ÏùòÏ†ê ÎßàÏª§Îì§Ïùò ÏßÄÎèÑ ÌëúÏãú Ïó¨Î∂ÄÎ•º ÏÑ§Ï†ïÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function setStoreMarkers(map) {
            for (var i = 0; i < storeMarkers.length; i++) {
                storeMarkers[i].setMap(map);
            }
        }

        // Ï£ºÏ∞®Ïû• ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† Ï£ºÏ∞®Ïû• ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function createCarparkMarkers() {
            for (var i = 0; i < carparkPositions.length; i++) {

                var imageSize = new kakao.maps.Size(22, 26),
                    imageOptions = {
                        spriteOrigin: new kakao.maps.Point(10, 72),
                        spriteSize: new kakao.maps.Size(36, 98)
                    };

                // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏôÄ ÎßàÏª§Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
                var markerImage = createMarkerImage(markerImageSrc, imageSize, imageOptions),
                    marker = createMarker(carparkPositions[i], markerImage);

                // ÏÉùÏÑ±Îêú ÎßàÏª§Î•º Ï£ºÏ∞®Ïû• ÎßàÏª§ Î∞∞Ïó¥Ïóê Ï∂îÍ∞ÄÌï©ÎãàÎã§
                carparkMarkers.push(marker);
            }
        }

        // Ï£ºÏ∞®Ïû• ÎßàÏª§Îì§Ïùò ÏßÄÎèÑ ÌëúÏãú Ïó¨Î∂ÄÎ•º ÏÑ§Ï†ïÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function setCarparkMarkers(map) {
            for (var i = 0; i < carparkMarkers.length; i++) {
                carparkMarkers[i].setMap(map);
            }
        }

        // Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÌÅ¥Î¶≠ÌñàÏùÑ Îïå typeÏóê Îî∞Îùº Ïπ¥ÌÖåÍ≥†Î¶¨Ïùò Ïä§ÌÉÄÏùºÍ≥º ÏßÄÎèÑÏóê ÌëúÏãúÎêòÎäî ÎßàÏª§Î•º Î≥ÄÍ≤ΩÌï©ÎãàÎã§
        function changeMarker(type) {

            var coffeeMenu = document.getElementById('coffeeMenu');
            var storeMenu = document.getElementById('storeMenu');
            var carparkMenu = document.getElementById('carparkMenu');

            // Ïª§ÌîºÏàç Ïπ¥ÌÖåÍ≥†Î¶¨Í∞Ä ÌÅ¥Î¶≠ÎêêÏùÑ Îïå
            if (type === 'coffee') {

                // Ïª§ÌîºÏàç Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÏÑ†ÌÉùÎêú Ïä§ÌÉÄÏùºÎ°ú Î≥ÄÍ≤ΩÌïòÍ≥†
                coffeeMenu.className = 'menu_selected';

                // Ìé∏ÏùòÏ†êÍ≥º Ï£ºÏ∞®Ïû• Ïπ¥ÌÖåÍ≥†Î¶¨Îäî ÏÑ†ÌÉùÎêòÏßÄ ÏïäÏùÄ Ïä§ÌÉÄÏùºÎ°ú Î∞îÍøâÎãàÎã§
                storeMenu.className = '';
                carparkMenu.className = '';

                // Ïª§ÌîºÏàç ÎßàÏª§Îì§Îßå ÏßÄÎèÑÏóê ÌëúÏãúÌïòÎèÑÎ°ù ÏÑ§Ï†ïÌï©ÎãàÎã§
                setCoffeeMarkers(map);
                setStoreMarkers(null);
                setCarparkMarkers(null);

            } else if (type === 'store') { // Ìé∏ÏùòÏ†ê Ïπ¥ÌÖåÍ≥†Î¶¨Í∞Ä ÌÅ¥Î¶≠ÎêêÏùÑ Îïå

                // Ìé∏ÏùòÏ†ê Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÏÑ†ÌÉùÎêú Ïä§ÌÉÄÏùºÎ°ú Î≥ÄÍ≤ΩÌïòÍ≥†
                coffeeMenu.className = '';
                storeMenu.className = 'menu_selected';
                carparkMenu.className = '';

                // Ìé∏ÏùòÏ†ê ÎßàÏª§Îì§Îßå ÏßÄÎèÑÏóê ÌëúÏãúÌïòÎèÑÎ°ù ÏÑ§Ï†ïÌï©ÎãàÎã§
                setCoffeeMarkers(null);
                setStoreMarkers(map);
                setCarparkMarkers(null);

            } else if (type === 'carpark') { // Ï£ºÏ∞®Ïû• Ïπ¥ÌÖåÍ≥†Î¶¨Í∞Ä ÌÅ¥Î¶≠ÎêêÏùÑ Îïå

                // Ï£ºÏ∞®Ïû• Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÏÑ†ÌÉùÎêú Ïä§ÌÉÄÏùºÎ°ú Î≥ÄÍ≤ΩÌïòÍ≥†
                coffeeMenu.className = '';
                storeMenu.className = '';
                carparkMenu.className = 'menu_selected';

                // Ï£ºÏ∞®Ïû• ÎßàÏª§Îì§Îßå ÏßÄÎèÑÏóê ÌëúÏãúÌïòÎèÑÎ°ù ÏÑ§Ï†ïÌï©ÎãàÎã§
                setCoffeeMarkers(null);
                setStoreMarkers(null);
                setCarparkMarkers(map);
            }
        }








        // -------------------------------------------------------------------------------------------------------------------------------------------------



        // Ï§å Ïª®Ìä∏Î°§


        // ÎßàÏª§Í∞Ä ÏßÄÎèÑ ÏúÑÏóê ÌëúÏãúÎêòÎèÑÎ°ù ÏÑ§Ï†ïÌï©ÎãàÎã§
        marker.setMap(map);

        // ÏßÄÎèÑÍ∞Ä Ïù¥Îèô, ÌôïÎåÄ, Ï∂ïÏÜåÎ°ú Ïù∏Ìï¥ Ï§ëÏã¨Ï¢åÌëúÍ∞Ä Î≥ÄÍ≤ΩÎêòÎ©¥ ÎßàÏßÄÎßâ ÌååÎùºÎØ∏ÌÑ∞Î°ú ÎÑòÏñ¥Ïò® Ìï®ÏàòÎ•º Ìò∏Ï∂úÌïòÎèÑÎ°ù Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§
        kakao.maps.event.addListener(map, 'ZoomControl', function () {

            // ÏßÄÎèÑÏùò  Î†àÎ≤®ÏùÑ ÏñªÏñ¥ÏòµÎãàÎã§
            var level = map.getLevel();

            // ÏßÄÎèÑÏùò Ï§ëÏã¨Ï¢åÌëúÎ•º ÏñªÏñ¥ÏòµÎãàÎã§ 
            var latlng = map.getCenter();

            var message = '<p>ÏßÄÎèÑ Î†àÎ≤®ÏùÄ ' + level + ' Ïù¥Í≥†</p>';
            message += '<p>Ï§ëÏã¨ Ï¢åÌëúÎäî ÏúÑÎèÑ ' + latlng.getLat() + ', Í≤ΩÎèÑ ' + latlng.getLng() + 'ÏûÖÎãàÎã§</p>';

            var resultDiv = document.getElementById('result');
            resultDiv.innerHTML = message;
            // ÏßÄÎèÑÎ•º ÌëúÏãúÌïòÎäî div ÌÅ¨Í∏∞Î•º Î≥ÄÍ≤ΩÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
            function resizeMap() {
                var mapContainer = document.getElementById('map');
                mapContainer.style.width = 'full';
                mapContainer.style.height = 'full';
            }


            // ÏùºÎ∞ò ÏßÄÎèÑÏôÄ Ïä§Ïπ¥Ïù¥Î∑∞Î°ú ÏßÄÎèÑ ÌÉÄÏûÖÏùÑ Ï†ÑÌôòÌï† Ïàò ÏûàÎäî ÏßÄÎèÑÌÉÄÏûÖ Ïª®Ìä∏Î°§ÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§
            var mapTypeControl = new kakao.maps.MapTypeControl();

            // ÏßÄÎèÑ ÌÉÄÏûÖ Ïª®Ìä∏Î°§ÏùÑ ÏßÄÎèÑÏóê ÌëúÏãúÌï©ÎãàÎã§
            map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);




            function getInfo() {
                // ÏßÄÎèÑÏùò ÌòÑÏû¨ Ï§ëÏã¨Ï¢åÌëúÎ•º ÏñªÏñ¥ÏòµÎãàÎã§ 
                var center = map.getCenter();

                // ÏßÄÎèÑÏùò ÌòÑÏû¨ Î†àÎ≤®ÏùÑ ÏñªÏñ¥ÏòµÎãàÎã§
                var level = map.getLevel();

                // ÏßÄÎèÑÌÉÄÏûÖÏùÑ ÏñªÏñ¥ÏòµÎãàÎã§
                var mapTypeId = map.getMapTypeId();

                // ÏßÄÎèÑÏùò ÌòÑÏû¨ ÏòÅÏó≠ÏùÑ ÏñªÏñ¥ÏòµÎãàÎã§ 
                var bounds = map.getBounds();

                // ÏòÅÏó≠Ïùò ÎÇ®ÏÑúÏ™Ω Ï¢åÌëúÎ•º ÏñªÏñ¥ÏòµÎãàÎã§ 
                var swLatLng = bounds.getSouthWest();

                // ÏòÅÏó≠Ïùò Î∂ÅÎèôÏ™Ω Ï¢åÌëúÎ•º ÏñªÏñ¥ÏòµÎãàÎã§ 
                var neLatLng = bounds.getNorthEast();

                // ÏòÅÏó≠Ï†ïÎ≥¥Î•º Î¨∏ÏûêÏó¥Î°ú ÏñªÏñ¥ÏòµÎãàÎã§. ((ÎÇ®,ÏÑú), (Î∂Å,Îèô)) ÌòïÏãùÏûÖÎãàÎã§
                var boundsStr = bounds.toString();


                var message = 'ÏßÄÎèÑ Ï§ëÏã¨Ï¢åÌëúÎäî ÏúÑÎèÑ ' + center.getLat() + ', <br>';
                message += 'Í≤ΩÎèÑ ' + center.getLng() + ' Ïù¥Í≥† <br>';
                message += 'ÏßÄÎèÑ Î†àÎ≤®ÏùÄ ' + level + ' ÏûÖÎãàÎã§ <br> <br>';
                message += 'ÏßÄÎèÑ ÌÉÄÏûÖÏùÄ ' + mapTypeId + ' Ïù¥Í≥† <br> ';
                message += 'ÏßÄÎèÑÏùò ÎÇ®ÏÑúÏ™Ω Ï¢åÌëúÎäî ' + swLatLng.getLat() + ', ' + swLatLng.getLng() + ' Ïù¥Í≥† <br>';
                message += 'Î∂ÅÎèôÏ™Ω Ï¢åÌëúÎäî ' + neLatLng.getLat() + ', ' + neLatLng.getLng() + ' ÏûÖÎãàÎã§';



                // Í∞úÎ∞úÏûêÎèÑÍµ¨Î•º ÌÜµÌï¥ ÏßÅÏ†ë message ÎÇ¥Ïö©ÏùÑ ÌôïÏù∏Ìï¥ Î≥¥ÏÑ∏Ïöî.
                // ex) console.log(message);
            }
            // ÏßÄÎèÑ ÌôïÎåÄ Ï∂ïÏÜåÎ•º Ï†úÏñ¥Ìï† Ïàò ÏûàÎäî  Ï§å Ïª®Ìä∏Î°§ÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§
            var zoomControl = new kakao.maps.ZoomControl();
            map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);

        });





        // -------------------------------------------------------------------------------------------------------------------------------------------------




        function relayout() {

            // ÏßÄÎèÑÎ•º ÌëúÏãúÌïòÎäî div ÌÅ¨Í∏∞Î•º Î≥ÄÍ≤ΩÌïú Ïù¥ÌõÑ ÏßÄÎèÑÍ∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÌëúÏ∂úÎêòÏßÄ ÏïäÏùÑ ÏàòÎèÑ ÏûàÏäµÎãàÎã§
            // ÌÅ¨Í∏∞Î•º Î≥ÄÍ≤ΩÌïú Ïù¥ÌõÑÏóêÎäî Î∞òÎìúÏãú  map.relayout Ìï®ÏàòÎ•º Ìò∏Ï∂úÌï¥Ïïº Ìï©ÎãàÎã§ 
            // windowÏùò resize Ïù¥Î≤§Ìä∏Ïóê ÏùòÌïú ÌÅ¨Í∏∞Î≥ÄÍ≤ΩÏùÄ map.relayout Ìï®ÏàòÍ∞Ä ÏûêÎèôÏúºÎ°ú Ìò∏Ï∂úÎê©ÎãàÎã§
            map.relayout();
        }





        // ÎßàÏª§Î•º ÌÅ¥Î¶≠ÌñàÏùÑ Îïå Ìï¥Îãπ Ïû•ÏÜåÏùò ÏÉÅÏÑ∏Ï†ïÎ≥¥Î•º Î≥¥Ïó¨Ï§Ñ Ïª§Ïä§ÌÖÄÏò§Î≤ÑÎ†àÏù¥ÏûÖÎãàÎã§
        var placeOverlay = new kakao.maps.CustomOverlay({ zIndex: 1 }),
            contentNode = document.createElement('div'), // Ïª§Ïä§ÌÖÄ Ïò§Î≤ÑÎ†àÏù¥Ïùò Ïª®ÌÖêÏ∏† ÏóòÎ¶¨Î®ºÌä∏ ÏûÖÎãàÎã§ 
            markers = [], // ÎßàÏª§Î•º Îã¥ÏùÑ Î∞∞Ïó¥ÏûÖÎãàÎã§
            currCategory = ''; // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú Ïπ¥ÌÖåÍ≥†Î¶¨Î•º Í∞ÄÏßÄÍ≥† ÏûàÏùÑ Î≥ÄÏàòÏûÖÎãàÎã§
        var ps = new kakao.maps.services.Places(map);

        // ÏßÄÎèÑÏóê idle Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§
        kakao.maps.event.addListener(map, 'idle', searchPlaces);

        // Ïª§Ïä§ÌÖÄ Ïò§Î≤ÑÎ†àÏù¥Ïùò Ïª®ÌÖêÏ∏† ÎÖ∏ÎìúÏóê css classÎ•º Ï∂îÍ∞ÄÌï©ÎãàÎã§ 
        contentNode.className = 'placeinfo_wrap';

        // Ïª§Ïä§ÌÖÄ Ïò§Î≤ÑÎ†àÏù¥Ïùò Ïª®ÌÖêÏ∏† ÎÖ∏ÎìúÏóê mousedown, touchstart Ïù¥Î≤§Ìä∏Í∞Ä Î∞úÏÉùÌñàÏùÑÎïå
        // ÏßÄÎèÑ Í∞ùÏ≤¥Ïóê Ïù¥Î≤§Ìä∏Í∞Ä Ï†ÑÎã¨ÎêòÏßÄ ÏïäÎèÑÎ°ù Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨Î°ú kakao.maps.event.preventMap Î©îÏÜåÎìúÎ•º Îì±Î°ùÌï©ÎãàÎã§ 
        addEventHandle(contentNode, 'mousedown', kakao.maps.event.preventMap);
        addEventHandle(contentNode, 'touchstart', kakao.maps.event.preventMap);

        // Ïª§Ïä§ÌÖÄ Ïò§Î≤ÑÎ†àÏù¥ Ïª®ÌÖêÏ∏†Î•º ÏÑ§Ï†ïÌï©ÎãàÎã§
        placeOverlay.setContent(contentNode);

        // Í∞Å Ïπ¥ÌÖåÍ≥†Î¶¨Ïóê ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§
        addCategoryClickEvent();

        // ÏóòÎ¶¨Î®ºÌä∏Ïóê Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨Î•º Îì±Î°ùÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function addEventHandle(target, type, callback) {
            if (target.addEventListener) {
                target.addEventListener(type, callback);
            } else {
                target.attachEvent('on' + type, callback);
            }
        }

        // Ïπ¥ÌÖåÍ≥†Î¶¨ Í≤ÄÏÉâÏùÑ ÏöîÏ≤≠ÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function searchPlaces() {
            if (!currCategory) {
                return;
            }

            // Ïª§Ïä§ÌÖÄ Ïò§Î≤ÑÎ†àÏù¥Î•º Ïà®ÍπÅÎãàÎã§ 
            placeOverlay.setMap(null);

            // ÏßÄÎèÑÏóê ÌëúÏãúÎêòÍ≥† ÏûàÎäî ÎßàÏª§Î•º Ï†úÍ±∞Ìï©ÎãàÎã§
            removeMarker();

            ps.categorySearch(currCategory, placesSearchCB, { useMapBounds: true });
        }

        // Ïû•ÏÜåÍ≤ÄÏÉâÏù¥ ÏôÑÎ£åÎêêÏùÑ Îïå Ìò∏Ï∂úÎêòÎäî ÏΩúÎ∞±Ìï®Ïàò ÏûÖÎãàÎã§
        function placesSearchCB(data, status, pagination) {
            if (status === kakao.maps.services.Status.OK) {

                // Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Í≤ÄÏÉâÏù¥ ÏôÑÎ£åÎêêÏúºÎ©¥ ÏßÄÎèÑÏóê ÎßàÏª§Î•º ÌëúÏ∂úÌï©ÎãàÎã§
                displayPlaces(data);
            } else if (status === kakao.maps.services.Status.ZERO_RESULT) {
                // Í≤ÄÏÉâÍ≤∞Í≥ºÍ∞Ä ÏóÜÎäîÍ≤ΩÏö∞ Ìï¥ÏïºÌï† Ï≤òÎ¶¨Í∞Ä ÏûàÎã§Î©¥ Ïù¥Í≥≥Ïóê ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî

            } else if (status === kakao.maps.services.Status.ERROR) {
                // ÏóêÎü¨Î°ú Ïù∏Ìï¥ Í≤ÄÏÉâÍ≤∞Í≥ºÍ∞Ä ÎÇòÏò§ÏßÄ ÏïäÏùÄ Í≤ΩÏö∞ Ìï¥ÏïºÌï† Ï≤òÎ¶¨Í∞Ä ÏûàÎã§Î©¥ Ïù¥Í≥≥Ïóê ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî

            }
        }

        // ÏßÄÎèÑÏóê ÎßàÏª§Î•º ÌëúÏ∂úÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function displayPlaces(places) {

            // Î™áÎ≤àÏß∏ Ïπ¥ÌÖåÍ≥†Î¶¨Í∞Ä ÏÑ†ÌÉùÎêòÏñ¥ ÏûàÎäîÏßÄ ÏñªÏñ¥ÏòµÎãàÎã§
            // Ïù¥ ÏàúÏÑúÎäî Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄÏóêÏÑúÏùò ÏúÑÏπòÎ•º Í≥ÑÏÇ∞ÌïòÎäîÎç∞ ÏÇ¨Ïö©Îê©ÎãàÎã§
            var order = document.getElementById(currCategory).getAttribute('data-order');



            for (var i = 0; i < places.length; i++) {

                // ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† ÏßÄÎèÑÏóê ÌëúÏãúÌï©ÎãàÎã§
                var marker = addMarker(new kakao.maps.LatLng(places[i].y, places[i].x), order);

                // ÎßàÏª§ÏôÄ Í≤ÄÏÉâÍ≤∞Í≥º Ìï≠Î™©ÏùÑ ÌÅ¥Î¶≠ ÌñàÏùÑ Îïå
                // Ïû•ÏÜåÏ†ïÎ≥¥Î•º ÌëúÏ∂úÌïòÎèÑÎ°ù ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§
                (function (marker, place) {
                    kakao.maps.event.addListener(marker, 'click', function () {
                        displayPlaceInfo(place);
                    });
                })(marker, places[i]);
            }
        }

        // ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† ÏßÄÎèÑ ÏúÑÏóê ÎßàÏª§Î•º ÌëúÏãúÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function addMarker(position, order) {
            var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png', // ÎßàÏª§ Ïù¥ÎØ∏ÏßÄ url, Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄÎ•º ÏîÅÎãàÎã§
                imageSize = new kakao.maps.Size(27, 28),  // ÎßàÏª§ Ïù¥ÎØ∏ÏßÄÏùò ÌÅ¨Í∏∞
                imgOptions = {
                    spriteSize: new kakao.maps.Size(72, 208), // Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄÏùò ÌÅ¨Í∏∞
                    spriteOrigin: new kakao.maps.Point(46, (order * 36)), // Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄ Ï§ë ÏÇ¨Ïö©Ìï† ÏòÅÏó≠Ïùò Ï¢åÏÉÅÎã® Ï¢åÌëú
                    offset: new kakao.maps.Point(11, 28) // ÎßàÏª§ Ï¢åÌëúÏóê ÏùºÏπòÏãúÌÇ¨ Ïù¥ÎØ∏ÏßÄ ÎÇ¥ÏóêÏÑúÏùò Ï¢åÌëú
                },
                markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),
                marker = new kakao.maps.Marker({
                    position: position, // ÎßàÏª§Ïùò ÏúÑÏπò
                    image: markerImage
                });

            marker.setMap(map); // ÏßÄÎèÑ ÏúÑÏóê ÎßàÏª§Î•º ÌëúÏ∂úÌï©ÎãàÎã§
            markers.push(marker);  // Î∞∞Ïó¥Ïóê ÏÉùÏÑ±Îêú ÎßàÏª§Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§

            return marker;
        }

        // ÏßÄÎèÑ ÏúÑÏóê ÌëúÏãúÎêòÍ≥† ÏûàÎäî ÎßàÏª§Î•º Î™®Îëê Ï†úÍ±∞Ìï©ÎãàÎã§
        function removeMarker() {
            for (var i = 0; i < markers.length; i++) {
                markers[i].setMap(null);
            }
            markers = [];
        }




        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------




        // ÌÅ¥Î¶≠Ìïú ÎßàÏª§Ïóê ÎåÄÌïú Ïû•ÏÜå ÏÉÅÏÑ∏Ï†ïÎ≥¥Î•º Ïª§Ïä§ÌÖÄ Ïò§Î≤ÑÎ†àÏù¥Î°ú ÌëúÏãúÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function displayPlaceInfo(place) {
            var content = '<div class="placeinfo">' +
                '   <a class="title" href="' + place.place_url + '" target="_blank" title="' + place.place_name + '">' + place.place_name + '</a>';

            if (place.road_address_name) {
                content += '    <span title="' + place.road_address_name + '">' + place.road_address_name + '</span>' +
                    '  <span class="jibun" title="' + place.address_name + '">(ÏßÄÎ≤à : ' + place.address_name + ')</span>';
            } else {
                content += '    <span title="' + place.address_name + '">' + place.address_name + '</span>';
            }

            content += '    <span class="tel">' + place.phone + '</span>' +
                '</div>' +
                '<div class="after"></div>';

            contentNode.innerHTML = content;
            placeOverlay.setPosition(new kakao.maps.LatLng(place.y, place.x));
            placeOverlay.setMap(map);
        }


        // Í∞Å Ïπ¥ÌÖåÍ≥†Î¶¨Ïóê ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§
        function addCategoryClickEvent() {
            var category = document.getElementById('category'),
                children = category.children;

            for (var i = 0; i < children.length; i++) {
                children[i].onclick = onClickCategory;
            }
        }

        // Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÌÅ¥Î¶≠ÌñàÏùÑ Îïå Ìò∏Ï∂úÎêòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function onClickCategory() {
            var id = this.id,
                className = this.className;

            placeOverlay.setMap(null);

            if (className === 'on') {
                currCategory = '';
                changeCategoryClass();
                removeMarker();
            } else {
                currCategory = id;
                changeCategoryClass(this);
                searchPlaces();
            }
        }

        // ÌÅ¥Î¶≠Îêú Ïπ¥ÌÖåÍ≥†Î¶¨ÏóêÎßå ÌÅ¥Î¶≠Îêú Ïä§ÌÉÄÏùºÏùÑ Ï†ÅÏö©ÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function changeCategoryClass(el) {
            var category = document.getElementById('category'),
                children = category.children,
                i;

            for (i = 0; i < children.length; i++) {
                children[i].className = '';
            }

            if (el) {
                el.className = 'on';
            }
        }





        // -------------------ÌÇ§ÏõåÎìú Í≤ÄÏÉâ-----------------------------------------------------------



        // ÎßàÏª§Î•º Îã¥ÏùÑ Î∞∞Ïó¥ÏûÖÎãàÎã§
        var markers = [];

        var mapContainer = document.getElementById('map'), // ÏßÄÎèÑÎ•º ÌëúÏãúÌï† div 
            mapOption = {
                level: 2 // ÏßÄÎèÑÏùò ÌôïÎåÄ Î†àÎ≤®
            };


        // Ïû•ÏÜå Í≤ÄÏÉâ Í∞ùÏ≤¥Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
        var ps = new kakao.maps.services.Places();
        // Í≤ÄÏÉâ Í≤∞Í≥º Î™©Î°ùÏù¥ÎÇò ÎßàÏª§Î•º ÌÅ¥Î¶≠ÌñàÏùÑ Îïå Ïû•ÏÜåÎ™ÖÏùÑ ÌëúÏ∂úÌï† Ïù∏Ìè¨ÏúàÎèÑÏö∞Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
        var infowindow = new kakao.maps.InfoWindow({ zIndex: 1 });

        // ÌÇ§ÏõåÎìúÎ°ú Ïû•ÏÜåÎ•º Í≤ÄÏÉâÌï©ÎãàÎã§
        searchPlaces();

        // ÌÇ§ÏõåÎìú Í≤ÄÏÉâÏùÑ ÏöîÏ≤≠ÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function searchPlaces() {

            var keyword = document.getElementById('keyword').value;

            if (!keyword.replace(/^\s+|\s+$/g, '')) {
                // alert('ÌÇ§ÏõåÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return false;
            } else {

            }

            // Ïû•ÏÜåÍ≤ÄÏÉâ Í∞ùÏ≤¥Î•º ÌÜµÌï¥ ÌÇ§ÏõåÎìúÎ°ú Ïû•ÏÜåÍ≤ÄÏÉâÏùÑ ÏöîÏ≤≠Ìï©ÎãàÎã§
            ps.keywordSearch(keyword, placesSearchCB);

        }

        // Ïû•ÏÜåÍ≤ÄÏÉâÏù¥ ÏôÑÎ£åÎêêÏùÑ Îïå Ìò∏Ï∂úÎêòÎäî ÏΩúÎ∞±Ìï®Ïàò ÏûÖÎãàÎã§
        function placesSearchCB(data, status, pagination) {
            if (status === kakao.maps.services.Status.OK) {

                // Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Í≤ÄÏÉâÏù¥ ÏôÑÎ£åÎêêÏúºÎ©¥
                // Í≤ÄÏÉâ Î™©Î°ùÍ≥º ÎßàÏª§Î•º ÌëúÏ∂úÌï©ÎãàÎã§
                displayPlaces(data);

                // ÌéòÏù¥ÏßÄ Î≤àÌò∏Î•º ÌëúÏ∂úÌï©ÎãàÎã§
                displayPagination(pagination);

            } else if (status === kakao.maps.services.Status.ZERO_RESULT) {

                // alert('Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä Ï°¥Ïû¨ÌïòÏßÄ ÏïäÏäµÎãàÎã§.');
                return;

            } else if (status === kakao.maps.services.Status.ERROR) {

                //alert('Í≤ÄÏÉâ Í≤∞Í≥º Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');
                return;

            }
        }






        //----------------------------------------------------------- --------------------


        // Í≤ÄÏÉâ Í≤∞Í≥º Î™©Î°ùÍ≥º ÎßàÏª§Î•º ÌëúÏ∂úÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function displayPlaces(places) {



            // Í≤ÄÏÉâ Í≤∞Í≥º - =======================
            var listEl = document.getElementById('placesList'),
                menuEl = document.getElementById('menu_wrap'),
                fragment = document.createDocumentFragment(),
                bounds = new kakao.maps.LatLngBounds(),
                listStr = '';

            // Í≤ÄÏÉâ Í≤∞Í≥º Î™©Î°ùÏóê Ï∂îÍ∞ÄÎêú Ìï≠Î™©Îì§ÏùÑ Ï†úÍ±∞Ìï©ÎãàÎã§
            removeAllChildNods(listEl);

            // ÏßÄÎèÑÏóê ÌëúÏãúÎêòÍ≥† ÏûàÎäî ÎßàÏª§Î•º Ï†úÍ±∞Ìï©ÎãàÎã§
            removeMarker();

            for (var i = 0; i < places.length; i++) {

                // ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† ÏßÄÎèÑÏóê ÌëúÏãúÌï©ÎãàÎã§
                var placePosition = new kakao.maps.LatLng(places[i].y, places[i].x),
                    marker = addMarker(placePosition, i),
                    itemEl = getListItem(i, places[i]); // Í≤ÄÏÉâ Í≤∞Í≥º Ìï≠Î™© ElementÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§

                // Í≤ÄÏÉâÎêú Ïû•ÏÜå ÏúÑÏπòÎ•º Í∏∞Ï§ÄÏúºÎ°ú ÏßÄÎèÑ Î≤îÏúÑÎ•º Ïû¨ÏÑ§Ï†ïÌïòÍ∏∞ÏúÑÌï¥
                // LatLngBounds Í∞ùÏ≤¥Ïóê Ï¢åÌëúÎ•º Ï∂îÍ∞ÄÌï©ÎãàÎã§
                bounds.extend(placePosition);


                fragment.appendChild(itemEl);
            }

            // Í≤ÄÏÉâÍ≤∞Í≥º Ìï≠Î™©Îì§ÏùÑ Í≤ÄÏÉâÍ≤∞Í≥º Î™©Î°ù ElementÏóê Ï∂îÍ∞ÄÌï©ÎãàÎã§
            listEl.appendChild(fragment);
            menuEl.scrollTop = 0;

            // Í≤ÄÏÉâÎêú Ïû•ÏÜå ÏúÑÏπòÎ•º Í∏∞Ï§ÄÏúºÎ°ú ÏßÄÎèÑ Î≤îÏúÑÎ•º Ïû¨ÏÑ§Ï†ïÌï©ÎãàÎã§
            map.setBounds(bounds);

        }


        /////////=========================Ïö∞Î¶¨ÍªÑÎ°ú Î∞îÍøîÏïºÎåÄÎäîÎ∂ÄÎ∂Ñ=========================================



        // Í≤ÄÏÉâÍ≤∞Í≥º Ìï≠Î™©ÏùÑ ElementÎ°ú Î∞òÌôòÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function getListItem(index, places) {
            var el = document.createElement('li');
            itemStr = '<span class="markerbg marker_' + (index + 1) + '"></span>' +
                '<div class="info", onclick="showchart(toggleSidebar(' + index + '))">' +
                '   <h5><p id="name' + index + '" class="innerbutton">' + places.place_name + '</p></h5>';

            if (places.road_address_name) {
                itemStr += '    <span>' + places.road_address_name + '</span>' +
                    '   <span class="jibun gray">' + places.address_name + '</span>';
            } else {
                itemStr += '    <span>' + places.address_name + '</span>';
            }

            itemStr += '  <span class="tel">' + places.phone + '</span>' +
                '</div>';

            el.innerHTML = itemStr;
            el.className = 'item';

            return el;
        }


        // ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† ÏßÄÎèÑ ÏúÑÏóê ÎßàÏª§Î•º ÌëúÏãúÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function addMarker(position, idx, title) {
            var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png', // ÎßàÏª§ Ïù¥ÎØ∏ÏßÄ url, Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄÎ•º ÏîÅÎãàÎã§
                imageSize = new kakao.maps.Size(36, 37),  // ÎßàÏª§ Ïù¥ÎØ∏ÏßÄÏùò ÌÅ¨Í∏∞
                imgOptions = {
                    spriteSize: new kakao.maps.Size(36, 691), // Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄÏùò ÌÅ¨Í∏∞
                    spriteOrigin: new kakao.maps.Point(0, (idx * 46) + 10), // Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄ Ï§ë ÏÇ¨Ïö©Ìï† ÏòÅÏó≠Ïùò Ï¢åÏÉÅÎã® Ï¢åÌëú
                    offset: new kakao.maps.Point(13, 37) // ÎßàÏª§ Ï¢åÌëúÏóê ÏùºÏπòÏãúÌÇ¨ Ïù¥ÎØ∏ÏßÄ ÎÇ¥ÏóêÏÑúÏùò Ï¢åÌëú
                },
                markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),
                marker = new kakao.maps.Marker({
                    position: position, // ÎßàÏª§Ïùò ÏúÑÏπò
                    image: markerImage
                });

            marker.setMap(map); // ÏßÄÎèÑ ÏúÑÏóê ÎßàÏª§Î•º ÌëúÏ∂úÌï©ÎãàÎã§
            markers.push(marker);  // Î∞∞Ïó¥Ïóê ÏÉùÏÑ±Îêú ÎßàÏª§Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§

            return marker;
        }

        // ÏßÄÎèÑ ÏúÑÏóê ÌëúÏãúÎêòÍ≥† ÏûàÎäî ÎßàÏª§Î•º Î™®Îëê Ï†úÍ±∞Ìï©ÎãàÎã§
        function removeMarker() {
            for (var i = 0; i < markers.length; i++) {
                markers[i].setMap(null);
            }
            markers = [];
        }

        // Í≤ÄÏÉâÍ≤∞Í≥º Î™©Î°ù ÌïòÎã®Ïóê ÌéòÏù¥ÏßÄÎ≤àÌò∏Î•º ÌëúÏãúÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function displayPagination(pagination) {
            var paginationEl = document.getElementById('pagination'),
                fragment = document.createDocumentFragment(),
                i;

            // Í∏∞Ï°¥Ïóê Ï∂îÍ∞ÄÎêú ÌéòÏù¥ÏßÄÎ≤àÌò∏Î•º ÏÇ≠Ï†úÌï©ÎãàÎã§
            while (paginationEl.hasChildNodes()) {
                paginationEl.removeChild(paginationEl.lastChild);
            }

            for (i = 1; i <= pagination.last; i++) {
                var el = document.createElement('a');
                el.href = "#";
                el.innerHTML = i;

                if (i === pagination.current) {
                    el.className = 'on';
                } else {
                    el.onclick = (function (i) {
                        return function () {
                            pagination.gotoPage(i);
                        }
                    })(i);
                }

                fragment.appendChild(el);
            }
            paginationEl.appendChild(fragment);
        }

        // Í≤ÄÏÉâÍ≤∞Í≥º Î™©Î°ù ÎòêÎäî ÎßàÏª§Î•º ÌÅ¥Î¶≠ÌñàÏùÑ Îïå Ìò∏Ï∂úÎêòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        // Ïù∏Ìè¨ÏúàÎèÑÏö∞Ïóê Ïû•ÏÜåÎ™ÖÏùÑ ÌëúÏãúÌï©ÎãàÎã§
        function displayInfowindow(marker, title) {
            var content = '<div style="padding:5px;z-index:1;">' + title + '</div>';

            infowindow.setContent(content);
            infowindow.open(map, marker);
        }

        // Í≤ÄÏÉâÍ≤∞Í≥º Î™©Î°ùÏùò ÏûêÏãù ElementÎ•º Ï†úÍ±∞ÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function removeAllChildNods(el) {
            while (el.hasChildNodes()) {
                el.removeChild(el.lastChild);
            }
        }





        // ÏßÄÎèÑÌÉÄÏûÖ Ïª®Ìä∏Î°§Ïùò ÏßÄÎèÑ ÎòêÎäî Ïä§Ïπ¥Ïù¥Î∑∞ Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÎ©¥ Ìò∏Ï∂úÎêòÏñ¥ ÏßÄÎèÑÌÉÄÏûÖÏùÑ Î∞îÍæ∏Îäî Ìï®ÏàòÏûÖÎãàÎã§
        function setMapType(maptype) {
            var roadmapControl = document.getElementById('btnRoadmap');
            var skyviewControl = document.getElementById('btnSkyview');
            if (maptype === 'roadmap') {
                map.setMapTypeId(kakao.maps.MapTypeId.ROADMAP);
                roadmapControl.className = 'selected_btn';
                skyviewControl.className = 'btn';
            } else {
                map.setMapTypeId(kakao.maps.MapTypeId.HYBRID);
                skyviewControl.className = 'selected_btn';
                roadmapControl.className = 'btn';
            }
        }

        // ÏßÄÎèÑ ÌôïÎåÄ, Ï∂ïÏÜå Ïª®Ìä∏Î°§ÏóêÏÑú ÌôïÎåÄ Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ Ìò∏Ï∂úÎêòÏñ¥ ÏßÄÎèÑÎ•º ÌôïÎåÄÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function zoomIn() {
            map.setLevel(map.getLevel() - 1);
        }

        // ÏßÄÎèÑ ÌôïÎåÄ, Ï∂ïÏÜå Ïª®Ìä∏Î°§ÏóêÏÑú Ï∂ïÏÜå Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ Ìò∏Ï∂úÎêòÏñ¥ ÏßÄÎèÑÎ•º ÌôïÎåÄÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
        function zoomOut() {
            map.setLevel(map.getLevel() + 1);
        }




        //-----------------Í≤ÄÏÉâÏ∞Ω Ï¥àÍ∏∞Ìôî---------------------------------------------


        function clearSearchBox() {
            document.getElementById("keyword").value = "";
        }


        // ------------ÏÇ¨Ïù¥ÎìúÎ∞îÌï®Ïàò------------

        function toggleSidebar(index) {
            let namebtn = document.getElementById("namebtn");
            let name = document.getElementById("name" + index);
            namebtn.innerHTML = name.innerHTML;

            var before = document.getElementsByClassName("active")[0] // Ï∞Ω Ïã§ÏãúÍ∞Ñ Î≥ÄÎèôÌòÑÌô©
            if (before && document.getElementsByClassName("active")[0] != index) {
                before.nextElementSibling.style.maxHeight = null;
                before.classList.remove("active");
            }
            document.querySelector('.sidebar').classList.toggle('active');



        }

        function closeSidebar() {
            document.querySelector('.sidebar').classList.toggle('active');

        }




        //-----------------------------------ÌòÑÏúÑÏπò----------------------------------------



        // gpsÎ°ú ÏúÑÏπòÎ∂àÎü¨Ïò§Í∏∞
        function getCurrentPos() {
            navigator.geolocation.getCurrentPosition(function (position) {
                var mapContainer = document.getElementById('map'); // ÏßÄÎèÑÎ•º ÌëúÏãúÌï† div 
                let lat = 35.15959895331954;
                let lon = 129.0601078522617;
                // var lat = position.coords.latitude, // ÏúÑÎèÑ
                //     lon = position.coords.longitude; // Í≤ΩÎèÑ
                var locPosition = new kakao.maps.LatLng(lat, lon), // ÎßàÏª§Í∞Ä ÌëúÏãúÎê† ÏúÑÏπòÎ•º geolocationÏúºÎ°ú ÏñªÏñ¥Ïò® Ï¢åÌëúÎ°ú ÏÉùÏÑ±Ìï©ÎãàÎã§
                    message = '<div style="height: 25px; padding:2px 8px; m argin: 3px;">Î©îÎ°±~~~~~~~~~</div>'    // Ïù∏Ìè¨ÏúàÎèÑÏö∞Ïóê ÌëúÏãúÎê† ÎÇ¥Ïö©ÏûÖÎãàÎã§

                displayMarker(locPosition, message, mapOption);

                map.setLevel(2);
            });
            // ÏßÄÎèÑÏóê ÎßàÏª§ÏôÄ Ïù∏Ìè¨ÏúàÎèÑÏö∞Î•º ÌëúÏãúÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
            function displayMarker(locPosition, message) { // ÎßàÏª§Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
                var imageSrc_loc = "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FkKkSb%2FbtrZBswymE9%2FNeYXXnsq79d4Mk6vEl3gKk%2Fimg.png";
                var imageSize_loc = new kakao.maps.Size(120, 120); // ÎßàÏª§ Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±
                var markerImage_loc = new kakao.maps.MarkerImage(imageSrc_loc, imageSize_loc);
                var marker_loc = new kakao.maps.Marker({
                    map: map,
                    position: locPosition,
                    image: markerImage_loc

                });
                var iwContent = message, // Ïù∏Ìè¨ÏúàÎèÑÏö∞Ïóê ÌëúÏãúÌï† ÎÇ¥Ïö©
                    iwRemoveable = true;
                // Ïù∏Ìè¨ÏúàÎèÑÏö∞Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
                var infowindow = new kakao.maps.InfoWindow({ content: iwContent });
                // Ïù∏Ìè¨ÏúàÎèÑÏö∞Î•º ÎßàÏª§ÏúÑÏóê ÌëúÏãúÌï©ÎãàÎã§
                infowindow.open(map, marker_loc);
                // ÏßÄÎèÑ Ï§ëÏã¨Ï¢åÌëúÎ•º Ï†ëÏÜçÏúÑÏπòÎ°ú Î≥ÄÍ≤ΩÌï©ÎãàÎã§
                map.setCenter(locPosition);
            }
        };
        //================================chart========================================
        function showchart() {

            const ctx = document.getElementById('myChart');

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                    datasets: [{
                        label: 'chart',
                        data: [2, 19, 3, 5, 2, 3],
                        borderWidth: 2, borderColor: '#160d69',
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });


        }

//  02/21 16:26 ÏµúÏã†Ìôî


    </script>
</body>

</html>