<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>test</title>
    <style>
        .map_wrap,
        .map_wrap * {
            margin: 0;
            padding: 0;
            font-family: 'Malgun Gothic', dotum, 'ë‹ì›€', sans-serif;
            font-size: 12px;
        }

        .map_wrap {
            position: relative;
            width: 100%;
            height: 350px;
        }

        #category {
            position: absolute;
            top: 10px;
            left: 10px;
            border-radius: 5px;
            border: 1px solid #909090;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);
            background: #fff;
            overflow: hidden;
            z-index: 2;
        }

        #category li.on {
            background: #eee;
        }

        #category li:hover {
            background: #ffe6e6;
            border-left: 1px solid #acacac;
            margin-left: -1px;
        }

        #category li span {
            display: block;
            margin: 0 auto 3px;
            width: 27px;
            height: 28px;
        }

        #category li .category_bg {
            background: url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png) no-repeat;
        }

        #category li .oil {
            background-position: -10px -108px;
        }

        #category li .carpark {
            background-position: -10px -180px;
        }

        .placeinfo_wrap {
            position: absolute;
            bottom: 28px;
            left: -150px;
            width: 300px;
        }

        .placeinfo {
            position: relative;
            width: 100%;
            border-radius: 6px;
            border: 1px solid #ccc;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
            background: #fff;
        }

        .placeinfo:nth-of-type(n) {
            border: 0;
            box-shadow: 0px 1px 2px #888;
        }

        .placeinfo_wrap .after {
            content: '';
            position: relative;
            margin-left: -12px;
            left: 50%;
            width: 22px;
            height: 12px;
            background: url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/vertex_white.png')
        }

        .placeinfo a,
        .placeinfo a:hover,
        .placeinfo a:active {
            color: #fff;
            text-decoration: none;
        }

        .placeinfo a,
        .placeinfo span {
            display: block;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        .placeinfo span {
            margin: 5px 5px 0 5px;
            cursor: default;
            font-size: 13px;
        }

        .placeinfo .title {
            font-weight: bold;
            font-size: 14px;
            border-radius: 6px 6px 0 0;
            margin: -1px -1px 0 -1px;
            padding: 10px;
            color: #fff;
            background: #d95050;
            background: #d95050 url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/arrow_white.png) no-repeat right 14px center;
        }

        .placeinfo .tel {
            color: #0f7833;
        }

        .placeinfo .jibun {
            color: #999;
            font-size: 11px;
            margin-top: 0;
        }


        .map_wrap,
        .map_wrap * {
            margin: 0;
            padding: 0;
            font-family: 'Malgun Gothic', dotum, 'ë‹ì›€', sans-serif;
            font-size: 12px;
        }

        .map_wrap a,
        .map_wrap a:hover,
        .map_wrap a:active {
            color: #000;
            text-decoration: none;
        }

        .map_wrap {
            position: relative;
            width: 100%;
            height: 500px;
        }

        #menu_wrap {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 300px;
            margin: 10px 0 30px 10px;
            padding: 5px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.8);
            z-index: 1;
            font-size: 12px;
            border-radius: 10px;
        }

        .bg_white {
            background: #fff;
        }

        #menu_wrap hr {
            display: block;
            height: 1px;
            border: 0;
            border-top: 2px solid #5F5F5F;
            margin: 3px 0;
        }

        #menu_wrap .option {
            text-align: left;
        }

        #menu_wrap .option p {
            margin: 10px 0;

        }

        #menu_wrap .option button {
            margin-left: 5px;
            border-width: 0px;
        }

        #placesList li {
            list-style: none;
        }

        #placesList .item {
            position: relative;
            border-bottom: 1px solid #888;
            overflow: hidden;
            cursor: pointer;
            min-height: 65px;
        }

        #placesList .item span {
            display: block;
            margin-top: 4px;
        }

        #placesList .item h5,
        #placesList .item .info {
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        #placesList .item .info {
            padding: 10px 0 10px 55px;
        }

        #placesList .info .gray {
            color: #8a8a8a;
        }

        #placesList .info .jibun {
            padding-left: 26px;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_jibun.png) no-repeat;
        }

        #placesList .info .tel {
            color: #009900;
        }

        #placesList .item .markerbg {
            float: left;
            position: absolute;
            width: 36px;
            height: 37px;
            margin: 10px 0 0 10px;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png) no-repeat;
        }

        #placesList .item .marker_1 {
            background-position: 0 -10px;
        }

        #placesList .item .marker_2 {
            background-position: 0 -56px;
        }

        #placesList .item .marker_3 {
            background-position: 0 -102px
        }

        #placesList .item .marker_4 {
            background-position: 0 -148px;
        }

        #placesList .item .marker_5 {
            background-position: 0 -194px;
        }

        #placesList .item .marker_6 {
            background-position: 0 -240px;
        }

        #placesList .item .marker_7 {
            background-position: 0 -286px;
        }

        #placesList .item .marker_8 {
            background-position: 0 -332px;
        }

        #placesList .item .marker_9 {
            background-position: 0 -378px;
        }

        #placesList .item .marker_10 {
            background-position: 0 -423px;
        }

        #placesList .item .marker_11 {
            background-position: 0 -470px;
        }

        #placesList .item .marker_12 {
            background-position: 0 -516px;
        }

        #placesList .item .marker_13 {
            background-position: 0 -562px;
        }

        #placesList .item .marker_14 {
            background-position: 0 -608px;
        }

        #placesList .item .marker_15 {
            background-position: 0 -654px;
        }

        #pagination {
            margin: 10px auto;
            text-align: center;
        }

        #pagination a {
            display: inline-block;
            margin-right: 10px;
        }

        #pagination .on {
            font-weight: bold;
            cursor: default;
            color: #777;
        }

        #mapwrap {
            position: relative;
            overflow: hidden;
        }

        .category,
        .category * {
            margin: 0;
            padding: 0;
            color: #000;
        }

        .category {
            position: absolute;
            overflow: hidden;
            top: 300px;
            right: 10px;
            width: 100px;
            height: 60px;
            z-index: 10;
            border: 1px solid black;
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
            font-size: 10px;
            text-align: center;

            background-color: #fff;
        }

        .category .menu_selected {
            background: #FF5F4A;
            color: #fff;
            border-left: 0px solid #915B2F;
            border-right: 0px solid #915B2F;
        }

        .category li {
            list-style: none;
            float: left;
            width: -40px;
            height: 47px;
            padding-top: 10px;
            cursor: pointer;
        }

        .category .ico_comm {
            display: block;
            margin: 0 auto 5px;
            width: 50px;
            height: 20px;
        }

        .category .ico_store {
            background-position: -0px -36px;
            background: url('https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F7kvaq%2FbtrZ9FIvzp2%2FiVbRKzj70VmOgY2R9er7ok%2Fimg.png')no-repeat 10px -5px;
        }

        .category .ico_carpark {
            background-position: -0px -72px;
            background: url('https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FpKV0X%2FbtrZ78dmf7p%2FLMPguVHNKNifhvFeeEKvkK%2Fimg.png') no-repeat 7px -4px;
        }


        .category .ico_coffee {
            display: none
        }

        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .map_wrap {
            position: relative;
            overflow: hidden;
            width: 100%;
            height: 350px;
        }

        .radius_border {
            border: 1px solid #919191;
            border-radius: 5px;
        }

        .custom_typecontrol {
            position: absolute;
            top: 10px;
            right: 10px;
            overflow: hidden;
            width: 130px;
            height: 30px;
            margin: 0;
            padding: 0;
            z-index: 1;
            font-size: 12px;
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
        }

        .custom_typecontrol span {
            display: block;
            width: 65px;
            height: 30px;
            float: left;
            text-align: center;
            line-height: 30px;
            cursor: pointer;
        }

        .custom_typecontrol .btn {
            background: #fff;
            background: linear-gradient(#fff, #e6e6e6);
        }

        .custom_typecontrol .btn:hover {
            background: #f5f5f5;
            background: linear-gradient(#f5f5f5, #e3e3e3);
        }

        .custom_typecontrol .btn:active {
            background: #e6e6e6;
            background: linear-gradient(#e6e6e6, #fff);
        }

        .custom_typecontrol .selected_btn {
            color: #fff;
            background: #425470;
            background: linear-gradient(#425470, #5b6d8a);
        }

        .custom_typecontrol .selected_btn:hover {
            color: #fff;
        }

        .custom_zoomcontrol {
            position: absolute;
            top: 50px;
            right: 10px;
            width: 36px;
            height: 80px;
            overflow: hidden;
            z-index: 1;
            background-color: #f5f5f5;
        }

        .custom_zoomcontrol span {
            display: block;
            width: 36px;
            height: 40px;
            text-align: center;
            cursor: pointer;
        }

        .custom_zoomcontrol span img {
            width: 15px;
            height: 15px;
            padding: 12px 0;
            border: none;
        }

        .custom_zoomcontrol span:first-child {
            border-bottom: 1px solid #bfbfbf;
        }

        .MapControlView.accessLocation:hover {
            background-position: -150px -400px;
        }

        .MapControlView.accessLocation {
            display: block;
            position: relative;
            width: 32px;
            height: 32px;
            padding: 20px 20px 20px;
            background: url(http://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) no-repeat -150px -450px;
        }

        .MapControlView.body {
            font: 12px/1.5 'Malgun Gothic', 'ë‹ì›€', dotum, sans-serif;
            background: #fff;
            color: #333;
            letter-spacing: -1px;
        }

        .sidebar {
            display: inline-block;
            position: fixed;
            margin: 10px 0 30px 10px;
            padding: 5px;
            overflow: scroll;
            overflow-y: auto;
            overflow-x: hidden;
            z-index: 1;
            font-size: 12px;
            border-radius: 10px;
            top: 10px;
            bottom: 0;
            left: -2800px;
            width: 400px;
            background-color: rgba(255, 255, 255, 0.8);
            height: 950px;
            transition: left 0.5s;

        }

        .sidebar.active {
            left: 310px;
        }

        .locatedStyle {
            position: fixed;
            right: 10px;
            top: 138px;
            display: block;
            width: 35px;
            height: 35px;
            padding: 20px 20px 20px;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) no-repeat -150px -350px;
            border-width: 0px;
        }

        .searchIcon {
            border-width: 3px;
            font-size: 20px;
            /* display: none; */
            width: 190px;
            height: 35px;
            margin-left: 90px;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/ico_search.png) no-repeat -100px -120px;
            background-position-x: 110px;
        }

        .parkingIcon {
            position: absolute;
            display: none;
            top: 170px;
            left: 25px;
            border-width: 0px;
            font-size: 10px;
            width: 25px;
            height: 27.1px;
            color: #009900;

            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) no-repeat -228px -217px;
        }

        .gasIcon {
            position: absolute;
            display: none;
            top: 170px;
            left: 55px;
            border-width: 0px;
            font-size: 10px;
            width: 25px;
            height: 28px;
            color: #009900;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) no-repeat -208px -217px;

        }

        .logoText {
            position: absolute;
            top: 10px;
            left: 150px;
            color: #160d69;
            font-size: 30px;

        }

        .logoText2 {
            position: absolute;
            top: 70px;
            left: 150px;
            color: #160d69;

        }

        .parkinglotlayer {
            color: #160d69;
        }

        .logoImage {
            nav-left: 100px;
            border-width: 3px;
            width: 150px;
            height: 150px;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FZsIjJ%2FbtrZAhhWFv1%2FvvTo9ns0BKB0r5h8z0ZShK%2Fimg.png) no-repeat -10px -20px;

        }

        .parkingname {
            top: 10px;
            text-align: center;
            color: #160d69;
            font-size: 30px;
        }

        .parkingaddr {
            font-size: 20px;
            color: #160d69;
            text-align: center;
        }

        .mainstar {
            text-align: center;
            font-size: medium;
        }

        .ulstyle {
            margin-top: 10px;
            display: flex;
            list-style: none;
            justify-content: space-around;
        }

        .gyeong {
            display: inline-block;
            border-right: 2px solid #160d69;
            text-align: center;
            padding: center;
            padding-right: 77px;
            padding-bottom: 140px;
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 20px;
        }

        .hwi {
            margin-left: 60px;
            display: inline-block;
            font-size: 18px;
            text-align: center;
            font-weight: 800;
        }

        /*            ì •ë³´ ì…ë ¥ì°½ ë²„íŠ¼             ---------------------------- */
        .innerbutton {
            border-width: 0px;
        }

        /* .up {
            background: url(https://blog.kakaocdn.net/dn/oleHY/btrZrTWwNLE/xFHG1FPVraApQFIRMPMf61/img.gif);
            width: 80px;
            height: 80px;
            margin-left: 120px;
            margin-top: -80px;

        } */

        .lefttext {
            /* display: inline-block; */
            position: absolute;
            left: 69px;
            /*top: 340px;
            font-size: 30px;
            bottom: 50px; */
        }

        /* .down {
            display: inline-block;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FwPuS8%2FbtrZre6WjYG%2F2VkU75eFvYDwf2uEwBlG20%2Fimg.png);
            width: 30px;
            height: 30px;
            margin-left: 300px;
            margin-top: -200px;
        } */

        .righttext {
            /* display: inline-block; */
            position: absolute;
            /* font-size: 30px;
            top: 380px; */
            left: 257px;
        }

        /* .upup {
            display: inline-block;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FPj8Z0%2FbtrZqVT5X7K%2F69YwkRnHHEDJ3briW96MhK%2Fimg.png);
            width: 60px;
            height: 60px;
        } */

        /* .downdown {
            display: inline-block;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FeDufnR%2FbtrZuGui9Ax%2Ft6S0Y5m8YqXNTdBjsrjLN0%2Fimg.png);
            width: 70px;
            height: 60px;
        } */

        .smalltext {
            position: absolute;
            /* left: 70px; */
        }

        /* .smalltext2 {
            position: absolute;
            left: 280px;
        } */

        .chartshow {
            display: block;
            position: absolute;
        }

        .review {
            font-size: 50px;
            height: auto;
        }

        .busan {
            position: absolute;
            top: 110px;
            left: 60px;
            font-size: 20px;
        }



        .makeMarker {
            position: fixed;
            right: 30px;
            top: 180px;
            display: block;
            width: 120px;
            height: 120px;
            padding: 20px 20px 20px;
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FkKkSb%2FbtrZBswymE9%2FNeYXXnsq79d4Mk6vEl3gKk%2Fimg.png) no-repeat;
        }

        .closeSidebar {
            background: url(https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbJA4ER%2FbtrZQcf4KIc%2FjxFzGryMcqMRHqg16MKP4K%2Fimg.png)no-repeat 0px 0px;
            width: 100px;
            height: 50px;
            position: fixed;
        }




        .review1 {
            margin-top: 10px;
            font-size: 20px;
            height: auto;
        }

        .popupArea {
            margin: 7px;
            display: flex;
            width: 100%;
            height: 30%;
            padding: 5px;
            border-radius: 10px;
        }

        .reviewInput {
            width: 320px;
            height: 30%;
            padding: 5px;
            border-color: #160d69;
        }

        .reviewWrite {
            margin-left: 50px;
            border-color: #160d69;
            border-width: 1px;


        }

        .review2 {
            width: 400px;
            height: 250px;
            text-align: center;
            margin-top: 20px;

        }

        /* ëª¨ë‹¬ì°½ */
        .reviewBtn,
        .closeBtn,
        .openBtn {
            background-color: #F9B514;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* .modal .bg {
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.6);
        } */

        .modalBox {
            position: absolute;
            background-color: #fff;
            width: 400px;
            height: 300px;
            padding: 15px;
            border-radius: 10px;
        }

        .modalBox button {
            display: block;
            width: 80px;
            margin: 0 auto;
        }

        .hidden {
            display: none;
        }

        /* ë³„ì  */
        /* component */

        .star-rating {
            /* border:solid 1px #ccc; */
            display: flex;
            flex-direction: row-reverse;
            font-size: 1.5em;
            justify-content: space-around;
            padding: 0 .2em;
            text-align: center;
            width: 5em;
        }

        .star-rating input {
            display: none;
        }

        .star-rating label {
            color: #ccc;
            cursor: pointer;
        }

        .star-rating :checked~label {
            color: #fc0;
        }

        .star-rating label:hover,
        .star-rating label:hover~label {
            color: #fc0;
        }

        .openBtn {
            position: absolute;
            right: 20px;
            top: 760px;
        }

        #reviewfont {
            font-weight: bold;
            color: #160d69;
        }

        #myChart {
            margin: 40px 0px;
        }
        
        .oil {
            flex-direction: column;
            height: 30%;
        }

        .oilType span {
            display: block;
            width: 40px;
            height: 30px;
            float: left;
            text-align: center;
            line-height: 30px;
            cursor: pointer;
        }
        
        .oilType .btn {
            background: #fff;
            background: linear-gradient(#fff, #e6e6e6);
        }
        
        .oilType .btn:hover {
            background: #f5f5f5;
            background: linear-gradient(#f5f5f5, #e3e3e3);
        }
        
        .oilType .btn:active {
            background: #e6e6e6;
            background: linear-gradient(#e6e6e6, #fff);
        }
        
        .oilType .selected_btn {
            color: #fff;
            background: #425470;
            background: linear-gradient(#425470, #5b6d8a);
        }
        
        .oilType .selected_btn:hover {
            color: #fff;
        }
        
        .oilType {
            margin-left: 300px;
            right: 10px;
            width: 80px;
            height: 30px;
            overflow: hidden;
            z-index: 1;
            background-color: #f5f5f5;
        }




    </style>




    <div class="map_wrap, mapwrap">
        <div id="mapwrap">
            <!-- ì§€ë„ê°€ í‘œì‹œë  div -->

            <div id="map" style="width:100%;height: 950px;"></div>

            <!-- ì§€ë„ ìœ„ì— í‘œì‹œë  ë§ˆì»¤ ì¹´í…Œê³ ë¦¬ -->
            <div class="category">

                <ul>
                    <li id="coffeeMenu" onclick="changeMarker('coffee')">
                        <span class="ico_comm ico_coffee"></span>
                    </li>
                    <a class="storeMenus" onclick="asd()">
                        <li id="storeMenu" onclick="changeMarker('store')">
                            <span class="ico_comm ico_store"></span>
                            ì£¼ìœ ì†Œ
                        </li>
                    </a>
                    <li id="carparkMenu" onclick="changeMarker('carpark')">
                        <span class="ico_comm ico_carpark"></span>
                        ì£¼ì°¨ì¥
                    </li>

                </ul>


            </div>


            <!-- ì§€ë„íƒ€ì… ì»¨íŠ¸ë¡¤ div ì…ë‹ˆë‹¤ -->
            <div class="custom_typecontrol radius_border">
                <span id="btnRoadmap" class="selected_btn" onclick="setMapType('roadmap')">ì§€ë„</span>
                <span id="btnSkyview" class="btn" onclick="setMapType('skyview')">ìŠ¤ì¹´ì´ë·°</span>
            </div>

            <!-- ì§€ë„ í™•ëŒ€, ì¶•ì†Œ ì»¨íŠ¸ë¡¤ div ì…ë‹ˆë‹¤ -->
            <div class="custom_zoomcontrol radius_border">
                <span onclick="zoomIn()"><img
                        src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_plus.png" alt="í™•ëŒ€"></span>
                <span onclick="zoomOut()"><img
                        src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_minus.png" alt="ì¶•ì†Œ"></span>
            </div>

        </div>

</head>

<body>


    <!-- --------------------------------------ì‚¬ì´ë“œë°”---------------- -->

    <div id="menu_wrap" class="bg_white">
        <div class="option">
            <div>

                <form onsubmit="clearSearchBox(searchPlaces()); return false;">
                    <button class="logoImage"></button>
                    <h1 class="logoText">ê³µì˜ì´</h1>
                    <h2 class="logoText2" id="nick">(002)</h2>
                    <button onclick="" id="parkingbtn" class="parkingIcon"></button>
                    <button class="gasIcon"></button>
                </form>

                <!-- =============ê° êµ¬ ë³„ë¡œ ì—°ê²°ì‘ì—…==================================== -->
                <h3 class="busan">ë¶€ì‚°ê´‘ì—­ì‹œ</h3>
                <form id="region">
                    <select class="sigungu" style="width:102px;" id="guSelect" onchange="gudong()">
                        <option value="">ì‹œ/êµ°/êµ¬</option>
                        <option value="ê°•ì„œêµ¬">ê°•ì„œêµ¬</option>
                        <option value="ê¸ˆì •êµ¬">ê¸ˆì •êµ¬</option>
                        <option value="ê¸°ì¥êµ°">ê¸°ì¥êµ°</option>
                        <option value="ë‚¨êµ¬">ë‚¨êµ¬</option>
                        <option value="ë™êµ¬">ë™êµ¬</option>
                        <option value="ë™ë˜êµ¬">ë™ë˜êµ¬</option>
                        <option value="ë¶€ì‚°ì§„êµ¬">ë¶€ì‚°ì§„êµ¬</option>
                        <option value="ë¶êµ¬">ë¶êµ¬</option>
                        <option value="ì‚¬ìƒêµ¬">ì‚¬ìƒêµ¬</option>
                        <option value="ì‚¬í•˜êµ¬">ì‚¬í•˜êµ¬</option>
                        <option value="ì„œêµ¬">ì„œêµ¬</option>
                        <option value="ìˆ˜ì˜êµ¬">ìˆ˜ì˜êµ¬</option>
                        <option value="ì—°ì œêµ¬">ì—°ì œêµ¬</option>
                        <option value="ì˜ë„êµ¬">ì˜ë„êµ¬</option>
                        <option value="ì¤‘êµ¬">ì¤‘êµ¬</option>
                        <option value="í•´ìš´ëŒ€êµ¬">í•´ìš´ëŒ€êµ¬</option>
                    </select>

                    <button type="button" id="selectlocation">ì¡°íšŒ</button>
                </form>
            <fom id = "zone">
                <select id="dongSelect" style="width:120px;">
                    <option value="">ì/ë©´/ë™</option>
                </select>
            </fom>


                <div>
                    <button class="makeMarker" onclick="selectOverlay('MARKER')"></button>
                </div>

                <input type="text" id="keyword" size="20" class="searchIcon">
                </form>



                <div>
                    <!-- í¼ìƒì„± -->
                    <form id="mainform">
                        <div class="sidebar">
                            <button class="closeSidebar" onclick="closeSidebar()"></button>
                            <div class="sidebarHead" style="height: 12%;">
                                <p class="parkingname"> ì£¼ì°¨ì¥ì´ë¦„ </p>
                                <p class="parkingaddr" type="text" id="namebtn" name="storename"></p>
                                <p class="mainstar"> í‰ì  : â˜…â˜…â˜…â˜…â˜† </p>

                            </div>

                            <hr>
                            <div class="oil" >
                                <div class="oilType radius_border">
                                    <span id="btnDiesel" class="selected_btn" onclick="setOilType('diesel')">ê²½ìœ </span>
                                    <span id="btnGasoline" class="btn" onclick="setOilType('gasoline')">íœ˜ë°œìœ </span>
                                </div>
                                    <p style="font-size: large;text-align : center; "> <span id="gasRegion">ë™êµ¬</span>ì—ì„œ <span id="priceNum">3</span>ë²ˆì§¸ë¡œ ì‹¼ì§‘!</p>
                                    <p style="color: #160d69; font-weight: bold; text-align: center; font-size: 20px;"> ì˜¤ëŠ˜ì˜ ìœ ê°€ ì •ë³´ </p>
                                <p>
                                <div class="ulstyle">
                                    <div>
                                        <div class="gyeong"> 
                                            <p>ê²½ìœ </p> 
                                            <p class="lefttext" id="diesel">2000</p>
                                        </div>
                                        <div class="hwi">
                                            <p>íœ˜ë°œìœ </p>
                                            <p class="righttext" id="gasoline">3500</p>
                                        </div>
                                        <div class="smalltext" style="color: #ff7200;text-align: left;">+102ì›</div>
                                        <div class="smalltext2" style="color: #ff7200; text-align: right; ">+12ì›</div>
                                    </div>
    

                                </div>
                                </dib>
                                <hr>
                                <div>
                                    <!-- <p class="upup">êµ¬ì—ì„œ ëª‡ë²ˆì§¸ë¡œ ì‹¼ì§€ ë¹„êµ</p>
                            <p class="downdown"> 7ì¼ì¹˜ í‰ê· ê°€ê²©ê³¼ ì˜¤ëŠ˜ì˜ ê°€ê²© ë¹„êµ</p> -->
                                    <canvas id="myChart" style="width: 200px;"></canvas>



                                </div>
                    </form>
                    <!-- ---------------------review--------------------------------------------- -->


                    <hr style="margin-top: 20px;">
                    <form id="reviewform">
                        <div class="review1">
                            <span style="margin-left: 20px; color: #160d69;">ë°©ë¬¸ì ë¦¬ë·°</span>
                            <button class="openBtn">âœğŸ»</button>
                            <div class="modal hidden">
                                <div class="bg"></div>
                                <div class="modalBox"
                                    style="display: flex;align-items:center;flex-direction: column;justify-content:space-around">
                                    <p id="reviewfont">ë¦¬ë·° ì‘ì„±í•˜ê¸°</p>
                                    <p>â˜ºï¸ğŸ˜ŠğŸ˜¥</p>
                                    <div class="star-rating">
                                        <input type="radio" id="5-stars" name="rating" value="5" />
                                        <label for="5-stars" class="star">&#9733;</label>
                                        <input type="radio" id="4-stars" name="rating" value="4" />
                                        <label for="4-stars" class="star">&#9733;</label>
                                        <input type="radio" id="3-stars" name="rating" value="3" />
                                        <label for="3-stars" class="star">&#9733;</label>
                                        <input type="radio" id="2-stars" name="rating" value="2" />
                                        <label for="2-stars" class="star">&#9733;</label>
                                        <input type="radio" id="1-star" name="rating" value="1" />
                                        <label for="1-star" class="star">&#9733;</label>
                                    </div>
                                    <textarea class="reviewInput" name="reviewInput"
                                        placeholder="ë°©ë¬¸í•œ ê°€ê²ŒëŠ” ì–´ë• ë‚˜ìš”? ë¦¬ë·°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”." onclick="joinCheck()"></textarea>
                                    <div style="display: flex;">
                                        <button class="reviewBtn" id="reviewBtn" type="submit">ë“±ë¡</button>
                                        <button class="closeBtn">ë‹«ê¸°</button>
                                    </div>
                                </div>
                            </div>
                    </form>
                    <hr style="border-top: 1px dotted #8c8b8b;">
                </div>
                <div class="review2">
                    <div>
                        <span class="userReview" name="userReview">ë“±ë¡ ëœ ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤.</span>
                    </div>
                </div>


                <script>

                    let nick = document.getElementById("nick");
                    let reviewBtn = document.getElementById("reviewBtn");
                    let grade = document.getElementById("grade");
                    let userReview = document.getElementsByName("userReview");
                    let storename = document.getElementById("namebtn");
                    let reviewusername = document.getElementById("reviewusername");

                    var nickname = sessionStorage.getItem("userName")

                    let reviewform = document.getElementById("reviewform");
                    let mainform = document.getElementById("mainform");

                    const open = () => {
                        document.querySelector(".modal").classList.remove("hidden");
                    }

                    const close = () => {
                        document.querySelector(".modal").classList.add("hidden");
                    }

                    document.querySelector(".openBtn").addEventListener("click", open);
                    document.querySelector(".closeBtn").addEventListener("click", close);
                    document.querySelector(".bg").addEventListener("click", close);


                    window.addEventListener("load", function (e) {
                        console.log(nickname);
                        nick.innerHTML = nickname + "ë‹˜^^";

                    })




                    function win_open(page, name) {
                        // window.open("íŒì—…ë  ë¬¸ì„œ ê²½ë¡œ","íŒì—…ë  ë¬¸ì„œ ì´ë¦„","ì˜µì…˜(ìœ„ì¹˜, barí‘œì‹œ, í¬ê¸° ë“±)");
                        window.open(page, name, "width=300, height=400, left=0, top=0");
                    };


                    function joinCheck() {
                        if (nickname == "null") {
                            console.log(nickname);
                            window.location = "http://127.0.0.1:5500/002/join.html"
                        }
                    }


                    reviewform.addEventListener("submit", function (e) {
                        e.preventDefault();

                    })

                    reviewBtn.addEventListener("click", (e) => {
                        console.log("ëˆŒë¦¼");

                        const rform = new FormData(reviewform);
                        rform.append("username", nickname);
                        rform.append("storename", storename.innerText);

                        fetch("http://localhost:8080/gonggongyung/gogo/review", {
                            method: "POST",
                            body: new URLSearchParams([...rform.entries()]), // post bodyí˜•ì‹
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded",
                            }
                        })

                        // .then((resp) => {
                        //         console.log(resp.status);
                        //         return resp.json();
                        //     })
                        //     .then((obj) => {
                        //         console.log(nickName)
                        //         console.log(reviewInput.values)
                        //     }).catch((e) => { console.log(e) })

                    });


                </script>


            </div>



            <!-- <button onclick="toggleSidebar(),showchart()">ì‚¬ì´ë“œë°”</button> -->
        </div>
        <div>
            <button onclick="getCurrentPos()" class="locatedStyle"></button>
        </div>

    </div>
    <hr>
    <ul id="placesList"></ul>
    <div id="pagination"></div>




    <!-- ì§€ë„ë¥¼ í‘œì‹œí•  div ì…ë‹ˆë‹¤ -->
    <div id="map" style="width:100%; height:0;"></div>




    <script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d5dac7b6e7ff06b208b6b3a693668ba9&libraries=services,clusterer,drawing"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>







    <script>








        // í˜œë„ ë¹Œë”© ì¤‘ì‹¬ ì§€ë„ ì„¤ì •




        var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div 
            mapOption = {
                center: new kakao.maps.LatLng(35.15959895331954, 129.0601078522617), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
                level: 2 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
            };







        // ì¼ë°˜ ì§€ë„ì™€ ìŠ¤ì¹´ì´ë·°ë¡œ ì§€ë„ íƒ€ì…ì„ ì „í™˜í•  ìˆ˜ ìˆëŠ” ì§€ë„íƒ€ì… ì»¨íŠ¸ë¡¤ì„ ìƒì„±í•©ë‹ˆë‹¤
        var mapTypeControl = new kakao.maps.MapTypeControl();




        //------------------------------------------------------------------------------------







        // í˜œë„ë¹Œë”© ë° ì£¼ì°¨ì¥, ì£¼ìœ ì†Œ

        var imageSrc = 'https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FG3Iqf%2FbtrY7MDoFpt%2FYI9Vj8cKsPftBBdKOKvOQK%2Fimg.png', // ë§ˆì»¤ì´ë¯¸ì§€ì˜ ì£¼ì†Œì…ë‹ˆë‹¤    
            imageSize = new kakao.maps.Size(64, 69), // ë§ˆì»¤ì´ë¯¸ì§€ì˜ í¬ê¸°ì…ë‹ˆë‹¤
            imageOption = { offset: new kakao.maps.Point(27, 69) }; // ë§ˆì»¤ì´ë¯¸ì§€ì˜ ì˜µì…˜ì…ë‹ˆë‹¤. ë§ˆì»¤ì˜ ì¢Œí‘œì™€ ì¼ì¹˜ì‹œí‚¬ ì´ë¯¸ì§€ ì•ˆì—ì„œì˜ ì¢Œí‘œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
        // ë§ˆì»¤ì˜ ì´ë¯¸ì§€ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆëŠ” ë§ˆì»¤ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption),
            markerPosition = new kakao.maps.LatLng(35.15959895331954, 129.0601078522617); // ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤



        // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var marker = new kakao.maps.Marker({
            position: markerPosition,
            image: markerImage // ë§ˆì»¤ì´ë¯¸ì§€ ì„¤ì • setOilType
        });

        // ë§ˆì»¤ê°€ ì§€ë„ ìœ„ì— í‘œì‹œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤

        // ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤ 

        // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var marker = new kakao.maps.Marker({
        });
        var map = new kakao.maps.Map(mapContainer, mapOption); // ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤

        //-------------------------------make marker---------------------------------------------------------

        var options = { // Drawing Managerë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©í•  ì˜µì…˜ì…ë‹ˆë‹¤
            map: map, // Drawing Managerë¡œ ê·¸ë¦¬ê¸° ìš”ì†Œë¥¼ ê·¸ë¦´ map ê°ì²´ì…ë‹ˆë‹¤
            drawingMode: [ // drawing managerë¡œ ì œê³µí•  ê·¸ë¦¬ê¸° ìš”ì†Œ ëª¨ë“œì…ë‹ˆë‹¤
                kakao.maps.drawing.OverlayType.MARKER,
            ],
            // ì‚¬ìš©ìì—ê²Œ ì œê³µí•  ê·¸ë¦¬ê¸° ê°€ì´ë“œ íˆ´íŒì…ë‹ˆë‹¤
            // ì‚¬ìš©ìì—ê²Œ ë„í˜•ì„ ê·¸ë¦´ë•Œ, ë“œë˜ê·¸í• ë•Œ, ìˆ˜ì •í• ë•Œ ê°€ì´ë“œ íˆ´íŒì„ í‘œì‹œí•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
            markerOptions: { // ë§ˆì»¤ ì˜µì…˜ì…ë‹ˆë‹¤ 
                draggable: true, // ë§ˆì»¤ë¥¼ ê·¸ë¦¬ê³  ë‚˜ì„œ ë“œë˜ê·¸ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤ 
                removable: true // ë§ˆì»¤ë¥¼ ì‚­ì œ í•  ìˆ˜ ìˆë„ë¡ x ë²„íŠ¼ì´ í‘œì‹œë©ë‹ˆë‹¤  
            },
        };

        // ìœ„ì— ì‘ì„±í•œ ì˜µì…˜ìœ¼ë¡œ Drawing Managerë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var manager = new kakao.maps.drawing.DrawingManager(options);

        // ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë˜ëŠ” í•¸ë“¤ëŸ¬ ì…ë‹ˆë‹¤
        function selectOverlay(type) {
            // ê·¸ë¦¬ê¸° ì¤‘ì´ë©´ ê·¸ë¦¬ê¸°ë¥¼ ì·¨ì†Œí•©ë‹ˆë‹¤
            manager.cancel();

            // í´ë¦­í•œ ê·¸ë¦¬ê¸° ìš”ì†Œ íƒ€ì…ì„ ì„ íƒí•©ë‹ˆë‹¤
            manager.select(kakao.maps.drawing.OverlayType[type]);
        }






        //----------------------------------------------------------------------------------------------------------------------ê²€ìƒ‰í• ë•Œ postë¡œ ë‹´ê¸°




        var gu = ["ê°•ì„œêµ¬", "ê¸ˆì •êµ¬", "ê¸°ì¥êµ°", "ë‚¨êµ¬", "ë™êµ¬", "ë™ë˜êµ¬", "ë¶€ì‚°ì§„êµ¬", "ë¶êµ¬", "ì‚¬ìƒêµ¬", "ì‚¬í•˜êµ¬", "ì„œêµ¬", "ìˆ˜ì˜êµ¬", "ì—°ì œêµ¬", "ì˜ë„êµ¬", "ì¤‘êµ¬", "í•´ìš´ëŒ€êµ¬"];

        var dong = {
            "ê°•ì„œêµ¬": ["ê°€ë½ë™", "ê°•ë™ë™", "êµ¬ë‘ë™", "ë…¹ì‚°ë™", "ëŒ€ì €1ë™", "ëŒ€ì €2ë™", "ëŒ€í•­ë™", "ë™ì„ ë™", "ëª…ì§€ë™", "ë¯¸ìŒë™", "ë²”ë°©ë™", "ë´‰ë¦¼ë™", "ìƒê³¡ë™", "ì„±ë¶ë™", "ì†¡ì •ë™", "ì‹ë§Œë™", "ì‹ í˜¸ë™", "ì£½ë™ë™", "ì£½ë¦¼ë™", "ì§€ì‚¬ë™", "ì²œê°€ë™", "ì²œì„±ë™", "í™”ì „ë™"],
            "ê¸ˆì •êµ¬": ["êµ¬ì„œë™", "êµ¬ì„œì œ1ë™", "êµ¬ì„œì œ2ë™", "ê¸ˆì‚¬ë™", "ê¸ˆì‚¬íšŒë™ë™", "ê¸ˆì„±ë™", "ë‚¨ì‚°ë™", "ë…¸í¬ë™", "ë‘êµ¬ë™", "ë¶€ê³¡ë™", "ë¶€ê³¡ì œ1ë™", "ë¶€ê³¡ì œ2ë™", "ë¶€ê³¡ì œ3ë™", "ë¶€ê³¡ì œ4ë™", "ì„œë™", "ì„œì œ1ë™", "ì„œì œ2ë™", "ì„œì œ3ë™", "ì„œì œ4ë™", "ì„ ë™", "ì„ ë‘êµ¬ë™", "ì˜¤ë¥œë™", "ì¥ì „ë™", "ì¥ì „ì œ1ë™", "ì¥ì „ì œ2ë™", "ì²­ë£¡ë…¸í¬ë™", "ì²­ë£¡ë™", "íšŒë™ë™"],
            "ê¸°ì¥êµ°": ["", "ê¸°ì¥ì", "ì¼ê´‘ë©´", "ì¥ì•ˆì", "ì •ê´€ë©´", "ì² ë§ˆë©´"],
            "ë‚¨êµ¬": ["ê°ë§Œë™", "ê°ë§Œì œ1ë™", "ê°ë§Œì œ2ë™", "ëŒ€ì—°ë™", "ëŒ€ì—°ì œ1ë™", "ëŒ€ì—°ì œ2ë™", "ëŒ€ì—°ì œ3ë™", "ëŒ€ì—°ì œ4ë™", "ëŒ€ì—°ì œ5ë™", "ëŒ€ì—°ì œ6ë™", "ë¬¸í˜„ë™", "ë¬¸í˜„ì œ1ë™", "ë¬¸í˜„ì œ2ë™", "ë¬¸í˜„ì œ3ë™", "ë¬¸í˜„ì œ4ë™", "ìš©ë‹¹ë™", "ìš©í˜¸ë™", "ìš©í˜¸ì œ1ë™", "ìš©í˜¸ì œ2ë™", "ìš©í˜¸ì œ3ë™", "ìš©í˜¸ì œ4ë™", "ìš°ì•”ë™", "ìš°ì•”ì œ1ë™", "ìš°ì•”ì œ2ë™"],
            "ë™êµ¬": ["ë²”ì¼ë™", "ë²”ì¼ì œ1ë™", "ë²”ì¼ì œ2ë™", "ë²”ì¼ì œ4ë™", "ë²”ì¼ì œ5ë™", "ë²”ì¼ì œ6ë™", "ìˆ˜ì •ë™", "ìˆ˜ì •ì œ1ë™", "ìˆ˜ì •ì œ2ë™", "ìˆ˜ì •ì œ3ë™", "ìˆ˜ì •ì œ4ë™", "ìˆ˜ì •ì œ5ë™", "ì¢Œì²œë™", "ì¢Œì²œì œ1ë™", "ì¢Œì²œì œ4ë™", "ì´ˆëŸ‰ë™", "ì´ˆëŸ‰ì œ1ë™", "ì´ˆëŸ‰ì œ2ë™", "ì´ˆëŸ‰ì œ3ë™", "ì´ˆëŸ‰ì œ4ë™", "ì´ˆëŸ‰ì œ6ë™"],
            "ë™ë˜êµ¬": ["ë‚™ë¯¼ë™", "ëª…ë¥œë™", "ëª…ì¥ë™", "ëª…ì¥ì œ1ë™", "ëª…ì¥ì œ2ë™", "ë³µì‚°ë™", "ë³µì²œë™", "ì‚¬ì§ë™", "ì‚¬ì§ì œ1ë™", "ì‚¬ì§ì œ2ë™", "ì‚¬ì§ì œ3ë™", "ìˆ˜ë¯¼ë™", "ìˆ˜ì•ˆë™", "ì•ˆë½ë™", "ì•ˆë½ì œ1ë™", "ì•ˆë½ì œ2ë™", "ì˜¨ì²œë™", "ì˜¨ì²œì œ1ë™", "ì˜¨ì²œì œ2ë™", "ì˜¨ì²œì œ3ë™", "ì¹ ì‚°ë™"],
            "ë¶€ì‚°ì§„êµ¬": ["ê°€ì•¼ë™", "ê°€ì•¼ì œ1ë™", "ê°€ì•¼ì œ2ë™", "ê°€ì•¼ì œ3ë™", "ê°œê¸ˆë™", "ê°œê¸ˆì œ1ë™", "ê°œê¸ˆì œ2ë™", "ê°œê¸ˆì œ3ë™", "ë‹¹ê°1ë™", "ë‹¹ê°2ë™", "ë‹¹ê°ë™", "ë‹¹ê°ì œ3ë™", "ë‹¹ê°ì œ4ë™", "ë²”ì „ë™", "ë²”ì²œë™", "ë²”ì²œì œ1ë™", "ë²”ì²œì œ2ë™", "ë²”ì²œì œ4ë™", "ë¶€ì•”ë™", "ë¶€ì•”ì œ1ë™", "ë¶€ì•”ì œ3ë™", "ë¶€ì „1ë™", "ë¶€ì „2ë™", "ë¶€ì „ë™", "ì–‘ì •ë™", "ì–‘ì •ì œ1ë™", "ì–‘ì •ì œ2ë™", "ì—°ì§€ë™", "ì „í¬ë™", "ì „í¬ì œ1ë™", "ì „í¬ì œ2ë™", "ì „í¬ì œ3ë™", "ì´ˆìë™"],
            "ë¶êµ¬": ["êµ¬í¬ë™", "êµ¬í¬ì œ1ë™", "êµ¬í¬ì œ2ë™", "êµ¬í¬ì œ3ë™", "ê¸ˆê³¡ë™", "ë•ì²œë™", "ë•ì²œì œ1ë™", "ë•ì²œì œ2ë™", "ë•ì²œì œ3ë™", "ë§Œë•ë™", "ë§Œë•ì œ1ë™", "ë§Œë•ì œ2ë™", "ë§Œë•ì œ3ë™", "í™”ëª…ë™", "í™”ëª…ì œ1ë™", "í™”ëª…ì œ2ë™", "í™”ëª…ì œ3ë™"],
            "ì‚¬ìƒêµ¬": ["ê°ì „ë™", "ê°ì „ì œ1ë™", "ê°ì „ì œ2ë™", "ê´˜ë²•ë™", "ë•í¬ë™", "ë•í¬ì œ1ë™", "ë•í¬ì œ2ë™", "ëª¨ë¼ë™", "ëª¨ë¼ì œ1ë™", "ëª¨ë¼ì œ2ë™", "ëª¨ë¼ì œ3ë™", "ì‚¼ë½ë™", "ì—„ê¶ë™", "ì£¼ë¡€ë™", "ì£¼ë¡€ì œ1ë™", "ì£¼ë¡€ì œ2ë™", "ì£¼ë¡€ì œ3ë™", "í•™ì¥ë™"],
            "ì‚¬í•˜êµ¬": ["ê°ì²œë™", "ê°ì²œì œ1ë™", "ê°ì²œì œ2ë™", "ê´´ì •ë™", "ê´´ì •ì œ1ë™", "ê´´ì •ì œ2ë™", "ê´´ì •ì œ3ë™", "ê´´ì •ì œ4ë™", "êµ¬í‰ë™", "ë‹¤ëŒ€ë™", "ë‹¤ëŒ€ì œ1ë™", "ë‹¤ëŒ€ì œ2ë™", "ë‹¹ë¦¬ë™", "ì‹ í‰ë™", "ì‹ í‰ì œ1ë™", "ì‹ í‰ì œ2ë™", "ì¥ë¦¼ë™", "ì¥ë¦¼ì œ1ë™", "ì¥ë¦¼ì œ2ë™", "í•˜ë‹¨ë™", "í•˜ë‹¨ì œ1ë™", "í•˜ë‹¨ì œ2ë™"],
            "ì„œêµ¬": ["ë‚¨ë¶€ë¯¼ë™", "ë‚¨ë¶€ë¯¼ì œ1ë™", "ë‚¨ë¶€ë¯¼ì œ2ë™", "ë‚¨ë¶€ë¯¼ì œ3ë™", "ë™ëŒ€ì‹ ë™1ê°€", "ë™ëŒ€ì‹ ë™2ê°€", "ë™ëŒ€ì‹ ë™3ê°€", "ë™ëŒ€ì‹ ì œ1ë™", "ë™ëŒ€ì‹ ì œ2ë™", "ë™ëŒ€ì‹ ì œ3ë™", "ë¶€ë¯¼ë™", "ë¶€ë¯¼ë™1ê°€", "ë¶€ë¯¼ë™2ê°€", "ë¶€ë¯¼ë™3ê°€", "ë¶€ìš©ë™1ê°€", "ë¶€ìš©ë™2ê°€", "ì„œëŒ€ì‹ ë™1ê°€", "ì„œëŒ€ì‹ ë™2ê°€", "ì„œëŒ€ì‹ ë™3ê°€", "ì„œëŒ€ì‹ ì œ1ë™", "ì„œëŒ€ì‹ ì œ3ë™", "ì„œëŒ€ì‹ ì œ4ë™", "ì•„ë¯¸ë™", "ì•„ë¯¸ë™1ê°€", "ì•„ë¯¸ë™2ê°€", "ì•”ë‚¨ë™", "ì´ˆì¥ë™", "ì¶©ë¬´ë™", "ì¶©ë¬´ë™1ê°€", "ì¶©ë¬´ë™2ê°€", "ì¶©ë¬´ë™3ê°€", "í† ì„±ë™1ê°€", "í† ì„±ë™2ê°€", "í† ì„±ë™3ê°€", "í† ì„±ë™4ê°€", "í† ì„±ë™5ê°€"],
            "ìˆ˜ì˜êµ¬": ['ê´‘ì•ˆë™', 'ê´‘ì•ˆì œ1ë™', 'ê´‘ì•ˆì œ2ë™', 'ê´‘ì•ˆì œ3ë™', 'ê´‘ì•ˆì œ4ë™', 'ë‚¨ì²œë™', 'ë‚¨ì²œì œ1ë™', 'ë‚¨ì²œì œ2ë™', 'ë§ë¯¸ë™', 'ë§ë¯¸ì œ1ë™', 'ë§ë¯¸ì œ2ë™', 'ë¯¼ë½ë™', 'ìˆ˜ì˜ë™'],
            "ì—°ì œêµ¬": ['ê±°ì œë™', 'ê±°ì œì œ1ë™', 'ê±°ì œì œ2ë™', 'ê±°ì œì œ3ë™', 'ê±°ì œì œ4ë™', 'ì—°ì‚°ë™', 'ì—°ì‚°ì œ1ë™', 'ì—°ì‚°ì œ2ë™', 'ì—°ì‚°ì œ3ë™', 'ì—°ì‚°ì œ4ë™', 'ì—°ì‚°ì œ5ë™', 'ì—°ì‚°ì œ6ë™', 'ì—°ì‚°ì œ7ë™', 'ì—°ì‚°ì œ8ë™', 'ì—°ì‚°ì œ9ë™'],
            "ì˜ë„êµ¬": ["ë‚¨í•­ë™", "ë‚¨í•­ë™1ê°€", "ë‚¨í•­ë™2ê°€", "ë‚¨í•­ë™3ê°€", "ëŒ€êµë™1ê°€", "ëŒ€êµë™2ê°€", "ëŒ€í‰ë™1ê°€", "ëŒ€í‰ë™2ê°€", "ë™ì‚¼ë™", "ë™ì‚¼ì œ1ë™", "ë™ì‚¼ì œ2ë™", "ë™ì‚¼ì œ3ë™", "ë´‰ë˜ë™1ê°€", "ë´‰ë˜ë™2ê°€", "ë´‰ë˜ë™3ê°€", "ë´‰ë˜ë™4ê°€", "ë´‰ë˜ë™5ê°€", "ë´‰ë˜ì œ1ë™", "ë´‰ë˜ì œ3ë™", "ë´‰ë˜ì œ4ë™", "ì‹ ì„ ë™1ê°€", "ì‹ ì„ ë™2ê°€", "ì‹ ì„ ë™3ê°€", "ì‹ ì„ ì œ1ë™", "ì‹ ì„ ì œ2ë™", "ì‹ ì„ ì œ3ë™", "ì˜ì„ ë™1ê°€", "ì˜ì„ ë™2ê°€", "ì˜ì„ ë™3ê°€", "ì˜ì„ ë™4ê°€", "ì˜ì„ ì œ1ë™", "ì˜ì„ ì œ2ë™", "ì²­í•™ë™", "ì²­í•™ì œ1ë™", "ì²­í•™ì œ2ë™"],
            "ì¤‘êµ¬": ['ê´‘ë³µë™1ê°€', 'ê´‘ë³µë™2ê°€', 'ê´‘ë³µë™', 'ê´‘ë³µë™3ê°€', 'ë‚¨í¬ë™', 'ë‚¨í¬ë™1ê°€', 'ë‚¨í¬ë™2ê°€', 'ë‚¨í¬ë™3ê°€', 'ë‚¨í¬ë™4ê°€', 'ë‚¨í¬ë™5ê°€', 'ë‚¨í¬ë™6ê°€', 'ëŒ€ì°½ë™1ê°€', 'ëŒ€ì°½ë™2ê°€', 'ëŒ€ì²­ë™', 'ëŒ€ì²­ë™1ê°€', 'ëŒ€ì²­ë™2ê°€', 'ëŒ€ì²­ë™3ê°€', 'ëŒ€ì²­ë™4ê°€', 'ë™ê´‘ë™', 'ë™ê´‘ë™1ê°€', 'ë™ê´‘ë™2ê°€', 'ë™ê´‘ë™3ê°€', 'ë™ê´‘ë™4ê°€', 'ë™ê´‘ë™5ê°€', 'ë³´ìˆ˜ë™', 'ë³´ìˆ˜ë™1ê°€', 'ë³´ìˆ˜ë™2ê°€', 'ë³´ìˆ˜ë™3ê°€', 'ë¶€í‰ë™', 'ë¶€í‰ë™1ê°€', 'ë¶€í‰ë™2ê°€', 'ë¶€í‰ë™3ê°€', 'ë¶€í‰ë™4ê°€', 'ì‹ ì°½ë™1ê°€', 'ì‹ ì°½ë™2ê°€', 'ì‹ ì°½ë™3ê°€', 'ì‹ ì°½ë™4ê°€', 'ì˜ì£¼ë™', 'ì˜ì£¼ì œ1ë™', 'ì˜ì£¼ì œ2ë™', 'ì¤‘ì•™ë™', 'ì¤‘ì•™ë™1ê°€', 'ì¤‘ì•™ë™2ê°€', 'ì¤‘ì•™ë™3ê°€', 'ì¤‘ì•™ë™4ê°€', 'ì¤‘ì•™ë™5ê°€', 'ì¤‘ì•™ë™6ê°€', 'ì¤‘ì•™ë™7ê°€', 'ì°½ì„ ë™1ê°€', 'ì°½ì„ ë™2ê°€'],
            "í•´ìš´ëŒ€êµ¬": ['ë°˜ì†¡ë™', 'ë°˜ì†¡ì œ1ë™', 'ë°˜ì†¡ì œ2ë™', 'ë°˜ì†¡ì œ3ë™', 'ë°˜ì—¬ë™', 'ë°˜ì—¬ì œ1ë™', 'ë°˜ì—¬ì œ2ë™', 'ë°˜ì—¬ì œ3ë™', 'ë°˜ì—¬ì œ4ë™', 'ì„ëŒ€ë™', 'ì†¡ì •ë™', 'ìš°ë™', 'ìš°ì œ1ë™', 'ìš°ì œ2ë™', 'ì¬ì†¡ë™', 'ì¬ì†¡ì œ1ë™', 'ì¬ì†¡ì œ2ë™', 'ì¢Œë™', 'ì¢Œì œ1ë™', 'ì¢Œì œ2ë™', 'ì¢Œì œ3ë™', 'ì¢Œì œ4ë™', 'ì¤‘ë™', 'ì¤‘ì œ1ë™', 'ì¤‘ì œ2ë™']
        };


        function gudong() {
            var guSelect = document.getElementById("guSelect");

            var selectedGu = guSelect.value;

            var dongSelect = document.getElementById("dongSelect");

            dongSelect.innerHTML = "";

            for (var i = 0; i < dong[selectedGu].length; i++) {
                var option = document.createElement("option");
                option.text = dong[selectedGu][i];
                dongSelect.add(option);
            }
        }





        //----------------------------------------------------------------------------------------------------------------------ê²€ìƒ‰í• ë•Œ postë¡œ ë‹´ê¸°


        let guSelect = document.getElementById("guSelect");
        let dongSelect = document.getElementById("dongSelect");
        let selectlocation = document.getElementById("selectlocation");
        let region = document.getElementById("region");
        let placesList = document.getElementById("placesList");
        let zone = document.getElementById("zone");


        let menuEl = document.getElementById('menu_wrap'),
            fragment = document.createDocumentFragment(),
            bounds = new kakao.maps.LatLngBounds(),
            listStr = '';
        selectlocation.addEventListener("click", function (e) {

           
            const regionform = new FormData(region);
            regionform.append("guSelect", guSelect.value);
            regionform.append("dongSelect", dongSelect.value);
            fetch("http://localhost:8080/gonggongyung/gogo/gasstation", {
                method: "POST",
                body: new URLSearchParams([...regionform.entries()]), // post bodyí˜•ì‹
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                }
            }).then((resp) => {

                return resp.json();
            }).then((obj) => {
                if(obj != ""){
                for (let i = 0; i < obj.length; i++) {
                    let myobj = {};
                    myobj.diesel = obj[i].diesel
                    myobj.gasoline = obj[i].gasoline
                    myobj.p_gasoline = obj[i].p_gasoline
                    myobj.region = obj[i].region
                    myobj.self = obj[i].self
                    myobj.storeaddress = obj[i].storeaddress
                    myobj.storebrand = obj[i].storebrand
                    myobj.storename = obj[i].storename
                    myobj.storenumber = obj[i].storenumber
                    myobj.x = obj[i].x
                    myobj.y = obj[i].y
                    
                    function getListItem(index, myobj) {
                        var el = document.createElement('li');
                        itemStr = '<span class="markerbg marker_' + (index + 1) + '"></span>' +
                            '<div class="info", onclick="showchart(toggleSidebar(' + index + '))">' +
                            '   <h5><p id="name' + index + '" class="innerbutton">' + myobj.storename + '</p></h5>';
                        if (myobj) {
                            itemStr += '    <span>' + myobj.storebrand + '</span>' +
                                '   <span class="jibun gray">' + myobj.storeaddress + '</span>';
                        } else {
                            itemStr += '    <span>' + myobj.storenumber + '</span>';
                        }
                        itemStr += '  <span class="tel">' + myobj.region + '</span>' +
                            '</div>';
                        el.innerHTML = itemStr;
                        el.className = 'item';
                        return el;
                    }
                    removeAllChildNods(placesList);
                    itemEl = getListItem(i, obj[i]);
                    fragment.appendChild(itemEl);
                }
                placesList.appendChild(fragment); //??
                menuEl.scrollTop = 0;
                console.log(obj);
             } 
            else  {
                console.log("ì‹¤í–‰");
                removeAllChildNods(placesList);
                placesList.innerText = "ê²€ìƒ‰ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤";
            }
            })
            
        
            
        


        });
    


//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
        let gasstation = [];
        let parkinglot = [];
        window.addEventListener("load", function (e) {


            fetch("http://localhost:8080/gonggongyung/gogo/gasstation/", {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                }
            })
                .then(response => response.json())
                .then(data => {
                    for (let i = 0; i < data.length; i++) {
                        gasstation.push(data[i]);
                    }

                    console.log(data); // ë°ì´í„° ì¶œë ¥
                });

            fetch("http://localhost:8080/gonggongyung/gogo/parkinglot/", {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                }
            })
                .then(response => response.json())
                .then(data => {

                    for (let i = 0; i < data.length; i++) {
                        parkinglot.push(data[i]);
                    }

                    console.log(data); // ë°ì´í„° ì¶œë ¥
                });
        }); //ìŠ¤í¬ë¦½íŠ¸---------------------










        // ì»¤í”¼ìˆ ë§ˆì»¤ê°€ í‘œì‹œë  ì¢Œí‘œ ë°°ì—´ì…ë‹ˆë‹¤
        var coffeePositions = [
            new kakao.maps.LatLng(37.499590490909185, 127.0263723554437),
            new kakao.maps.LatLng(37.499427948430814, 127.02794423197847),
            new kakao.maps.LatLng(37.498553760499505, 127.02882598822454),
            new kakao.maps.LatLng(37.497625593121384, 127.02935713582038),
            new kakao.maps.LatLng(37.49646391248451, 127.02675574250912),
            new kakao.maps.LatLng(37.49629291770947, 127.02587362608637),
            new kakao.maps.LatLng(37.49754540521486, 127.02546694890695)
        ];

        // í¸ì˜ì  ë§ˆì»¤ê°€ í‘œì‹œë  ì¢Œí‘œ ë°°ì—´ì…ë‹ˆë‹¤

        function asd() {
            let storeMenu = document.getElementsByClassName("storeMenus");

            fetch("http://localhost:8080/gonggongyung/gogo/gasstation/", { // ëˆ„ë¥´ë©´ ê°€ë¼
            }).then((response) => response.json())
                .then((data) => {
                    for (let i = 0; i < data.length; i += 2) {
                        storePositions.push(new kakao.maps.LatLng(data[i], data[i + 1]));
                        console.log(storePositions);
                    }
                })
            createStoreMarkers();
        }

        var storePositions = [
        ];


        // ì£¼ì°¨ì¥ ë§ˆì»¤ê°€ í‘œì‹œë  ì¢Œí‘œ ë°°ì—´ì…ë‹ˆë‹¤
        var carparkPositions = [
            new kakao.maps.LatLng(35.213725, 129.080538),
            new kakao.maps.LatLng(35.162218, 128.986650),
            new kakao.maps.LatLng(35.207310, 129.078527),
            new kakao.maps.LatLng(35.218925, 129.085617),
            new kakao.maps.LatLng(35.228187, 129.089228),
            new kakao.maps.LatLng(35.231583, 129.089107),
            new kakao.maps.LatLng(35.239165, 129.088416),
            new kakao.maps.LatLng(35.245568, 129.091272),
            new kakao.maps.LatLng(35.271787, 129.086944),
            new kakao.maps.LatLng(35.283211, 129.095100),
            new kakao.maps.LatLng(35.104432, 128.964301),
            new kakao.maps.LatLng(35.148665, 129.001262),
            new kakao.maps.LatLng(35.169164, 129.177395),
            new kakao.maps.LatLng(35.158553, 129.157447),
            new kakao.maps.LatLng(35.154860, 129.131361),
            new kakao.maps.LatLng(35.156248, 129.133637),
            new kakao.maps.LatLng(35.167034, 129.170428),
            new kakao.maps.LatLng(35.157361, 129.151082),
            new kakao.maps.LatLng(35.202879, 129.131858),
            new kakao.maps.LatLng(35.176877, 129.126678),
            new kakao.maps.LatLng(35.236981, 129.016439),
            new kakao.maps.LatLng(35.173494, 129.173747),
            new kakao.maps.LatLng(35.167026, 129.170446),
            new kakao.maps.LatLng(35.167749, 129.175966),
            new kakao.maps.LatLng(35.080702, 129.046095),
            new kakao.maps.LatLng(35.112920, 129.027845),
            new kakao.maps.LatLng(35.167635, 129.178492),
            new kakao.maps.LatLng(35.116586, 129.020095),
            new kakao.maps.LatLng(35.161695, 129.170300),
            new kakao.maps.LatLng(35.220937, 129.146448),
        ];

        var markerImageSrc = 'https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FczwJDf%2Fbtr0aQQF3K0%2FAsphV4K9VzNi3sKyOLJXRK%2Fimg.png';  // ë§ˆì»¤ì´ë¯¸ì§€ì˜ ì£¼ì†Œì…ë‹ˆë‹¤. ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì…ë‹ˆë‹¤
        coffeeMarkers = [], // ì»¤í”¼ìˆ ë§ˆì»¤ ê°ì²´ë¥¼ ê°€ì§€ê³  ìˆì„ ë°°ì—´ì…ë‹ˆë‹¤
            storeMarkers = [], // í¸ì˜ì  ë§ˆì»¤ ê°ì²´ë¥¼ ê°€ì§€ê³  ìˆì„ ë°°ì—´ì…ë‹ˆë‹¤
            carparkMarkers = []; // ì£¼ì°¨ì¥ ë§ˆì»¤ ê°ì²´ë¥¼ ê°€ì§€ê³  ìˆì„ ë°°ì—´ì…ë‹ˆë‹¤


        createCoffeeMarkers(); // ì»¤í”¼ìˆ ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì»¤í”¼ìˆ ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤
        createStoreMarkers(); // í¸ì˜ì  ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  í¸ì˜ì  ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤
        createCarparkMarkers(); // ì£¼ì°¨ì¥ ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì£¼ì°¨ì¥ ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤

        changeMarker(''); // ì§€ë„ì— ì»¤í”¼ìˆ ë§ˆì»¤ê°€ ë³´ì´ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤    


        // ë§ˆì»¤ì´ë¯¸ì§€ì˜ ì£¼ì†Œì™€, í¬ê¸°, ì˜µì…˜ìœ¼ë¡œ ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì—¬ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function createMarkerImage(src, size, options) {
            var markerImage = new kakao.maps.MarkerImage(src, size, options);
            return markerImage;
        }

        // ì¢Œí‘œì™€ ë§ˆì»¤ì´ë¯¸ì§€ë¥¼ ë°›ì•„ ë§ˆì»¤ë¥¼ ìƒì„±í•˜ì—¬ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function createMarker(position, image) {
            var marker = new kakao.maps.Marker({
                position: position,
                image: image
            });

            return marker;
        }

        // ì»¤í”¼ìˆ ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì»¤í”¼ìˆ ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function createCoffeeMarkers() {

            for (var i = 0; i < coffeePositions.length; i++) {

                var imageSize = new kakao.maps.Size(22, 26),
                    imageOptions = {
                        spriteOrigin: new kakao.maps.Point(10, 0),
                        spriteSize: new kakao.maps.Size(36, 98)
                    };

                // ë§ˆì»¤ì´ë¯¸ì§€ì™€ ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                var markerImage = createMarkerImage(markerImageSrc, imageSize, imageOptions),
                    marker = createMarker(coffeePositions[i], markerImage);

                // ìƒì„±ëœ ë§ˆì»¤ë¥¼ ì»¤í”¼ìˆ ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤
                coffeeMarkers.push(marker);
            }
        }

        // ì»¤í”¼ìˆ ë§ˆì»¤ë“¤ì˜ ì§€ë„ í‘œì‹œ ì—¬ë¶€ë¥¼ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function setCoffeeMarkers(map) {
            for (var i = 0; i < coffeeMarkers.length; i++) {
                coffeeMarkers[i].setMap(map);
            }
        }

        // í¸ì˜ì  ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  í¸ì˜ì  ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function createStoreMarkers() {
            for (var i = 0; i < storePositions.length; i++) {

                var imageSize = new kakao.maps.Size(22, 26),
                    imageOptions = {
                        spriteOrigin: new kakao.maps.Point(10, 0),
                        spriteSize: new kakao.maps.Size(36, 98)
                    };

                // ë§ˆì»¤ì´ë¯¸ì§€ì™€ ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                var markerImage = createMarkerImage(markerImageSrc, imageSize, imageOptions),
                    marker = createMarker(storePositions[i], markerImage);

                // ìƒì„±ëœ ë§ˆì»¤ë¥¼ í¸ì˜ì  ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤
                storeMarkers.push(marker);
            }
        }

        // í¸ì˜ì  ë§ˆì»¤ë“¤ì˜ ì§€ë„ í‘œì‹œ ì—¬ë¶€ë¥¼ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function setStoreMarkers(map) {
            for (var i = 0; i < storeMarkers.length; i++) {
                storeMarkers[i].setMap(map);
            }
        }

        // ì£¼ì°¨ì¥ ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì£¼ì°¨ì¥ ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function createCarparkMarkers() {
            for (var i = 0; i < carparkPositions.length; i++) {

                var imageSize = new kakao.maps.Size(22, 26),
                    imageOptions = {
                        spriteOrigin: new kakao.maps.Point(10, 72),
                        spriteSize: new kakao.maps.Size(36, 98)
                    };

                // ë§ˆì»¤ì´ë¯¸ì§€ì™€ ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                var markerImage = createMarkerImage(markerImageSrc, imageSize, imageOptions),
                    marker = createMarker(carparkPositions[i], markerImage);

                // ìƒì„±ëœ ë§ˆì»¤ë¥¼ ì£¼ì°¨ì¥ ë§ˆì»¤ ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤
                carparkMarkers.push(marker);
            }
        }

        // ì£¼ì°¨ì¥ ë§ˆì»¤ë“¤ì˜ ì§€ë„ í‘œì‹œ ì—¬ë¶€ë¥¼ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function setCarparkMarkers(map) {
            for (var i = 0; i < carparkMarkers.length; i++) {
                carparkMarkers[i].setMap(map);
            }
        }

        // ì¹´í…Œê³ ë¦¬ë¥¼ í´ë¦­í–ˆì„ ë•Œ typeì— ë”°ë¼ ì¹´í…Œê³ ë¦¬ì˜ ìŠ¤íƒ€ì¼ê³¼ ì§€ë„ì— í‘œì‹œë˜ëŠ” ë§ˆì»¤ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤
        function changeMarker(type) {

            var coffeeMenu = document.getElementById('coffeeMenu');
            var storeMenu = document.getElementById('storeMenu');
            var carparkMenu = document.getElementById('carparkMenu');

            // ì»¤í”¼ìˆ ì¹´í…Œê³ ë¦¬ê°€ í´ë¦­ëì„ ë•Œ
            if (type === 'coffee') {

                // ì»¤í”¼ìˆ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒëœ ìŠ¤íƒ€ì¼ë¡œ ë³€ê²½í•˜ê³ 
                coffeeMenu.className = 'menu_selected';

                // í¸ì˜ì ê³¼ ì£¼ì°¨ì¥ ì¹´í…Œê³ ë¦¬ëŠ” ì„ íƒë˜ì§€ ì•Šì€ ìŠ¤íƒ€ì¼ë¡œ ë°”ê¿‰ë‹ˆë‹¤
                storeMenu.className = '';
                carparkMenu.className = '';

                // ì»¤í”¼ìˆ ë§ˆì»¤ë“¤ë§Œ ì§€ë„ì— í‘œì‹œí•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
                setCoffeeMarkers(map);
                setStoreMarkers(null);
                setCarparkMarkers(null);

            } else if (type === 'store') { // í¸ì˜ì  ì¹´í…Œê³ ë¦¬ê°€ í´ë¦­ëì„ ë•Œ

                // í¸ì˜ì  ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒëœ ìŠ¤íƒ€ì¼ë¡œ ë³€ê²½í•˜ê³ 
                coffeeMenu.className = '';
                storeMenu.className = 'menu_selected';
                carparkMenu.className = '';

                // í¸ì˜ì  ë§ˆì»¤ë“¤ë§Œ ì§€ë„ì— í‘œì‹œí•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
                setCoffeeMarkers(null);
                setStoreMarkers(map);
                setCarparkMarkers(null);

            } else if (type === 'carpark') { // ì£¼ì°¨ì¥ ì¹´í…Œê³ ë¦¬ê°€ í´ë¦­ëì„ ë•Œ

                // ì£¼ì°¨ì¥ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒëœ ìŠ¤íƒ€ì¼ë¡œ ë³€ê²½í•˜ê³ 
                coffeeMenu.className = '';
                storeMenu.className = '';
                carparkMenu.className = 'menu_selected';

                // ì£¼ì°¨ì¥ ë§ˆì»¤ë“¤ë§Œ ì§€ë„ì— í‘œì‹œí•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
                setCoffeeMarkers(null);
                setStoreMarkers(null);
                setCarparkMarkers(map);
            }
        }








        // -------------------------------------------------------------------------------------------------------------------------------------------------



        // ì¤Œ ì»¨íŠ¸ë¡¤


        // ë§ˆì»¤ê°€ ì§€ë„ ìœ„ì— í‘œì‹œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
        marker.setMap(map);

        // ì§€ë„ê°€ ì´ë™, í™•ëŒ€, ì¶•ì†Œë¡œ ì¸í•´ ì¤‘ì‹¬ì¢Œí‘œê°€ ë³€ê²½ë˜ë©´ ë§ˆì§€ë§‰ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
        kakao.maps.event.addListener(map, 'ZoomControl', function () {

            // ì§€ë„ì˜  ë ˆë²¨ì„ ì–»ì–´ì˜µë‹ˆë‹¤
            var level = map.getLevel();

            // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤ 
            var latlng = map.getCenter();

            var message = '<p>ì§€ë„ ë ˆë²¨ì€ ' + level + ' ì´ê³ </p>';
            message += '<p>ì¤‘ì‹¬ ì¢Œí‘œëŠ” ìœ„ë„ ' + latlng.getLat() + ', ê²½ë„ ' + latlng.getLng() + 'ì…ë‹ˆë‹¤</p>';

            var resultDiv = document.getElementById('result');
            resultDiv.innerHTML = message;
            // ì§€ë„ë¥¼ í‘œì‹œí•˜ëŠ” div í¬ê¸°ë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
            function resizeMap() {
                var mapContainer = document.getElementById('map');
                mapContainer.style.width = 'full';
                mapContainer.style.height = 'full';
            }


            // ì¼ë°˜ ì§€ë„ì™€ ìŠ¤ì¹´ì´ë·°ë¡œ ì§€ë„ íƒ€ì…ì„ ì „í™˜í•  ìˆ˜ ìˆëŠ” ì§€ë„íƒ€ì… ì»¨íŠ¸ë¡¤ì„ ìƒì„±í•©ë‹ˆë‹¤
            var mapTypeControl = new kakao.maps.MapTypeControl();

            // ì§€ë„ íƒ€ì… ì»¨íŠ¸ë¡¤ì„ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
            map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);




            function getInfo() {
                // ì§€ë„ì˜ í˜„ì¬ ì¤‘ì‹¬ì¢Œí‘œë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤ 
                var center = map.getCenter();

                // ì§€ë„ì˜ í˜„ì¬ ë ˆë²¨ì„ ì–»ì–´ì˜µë‹ˆë‹¤
                var level = map.getLevel();

                // ì§€ë„íƒ€ì…ì„ ì–»ì–´ì˜µë‹ˆë‹¤
                var mapTypeId = map.getMapTypeId();

                // ì§€ë„ì˜ í˜„ì¬ ì˜ì—­ì„ ì–»ì–´ì˜µë‹ˆë‹¤ 
                var bounds = map.getBounds();

                // ì˜ì—­ì˜ ë‚¨ì„œìª½ ì¢Œí‘œë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤ 
                var swLatLng = bounds.getSouthWest();

                // ì˜ì—­ì˜ ë¶ë™ìª½ ì¢Œí‘œë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤ 
                var neLatLng = bounds.getNorthEast();

                // ì˜ì—­ì •ë³´ë¥¼ ë¬¸ìì—´ë¡œ ì–»ì–´ì˜µë‹ˆë‹¤. ((ë‚¨,ì„œ), (ë¶,ë™)) í˜•ì‹ì…ë‹ˆë‹¤
                var boundsStr = bounds.toString();


                var message = 'ì§€ë„ ì¤‘ì‹¬ì¢Œí‘œëŠ” ìœ„ë„ ' + center.getLat() + ', <br>';
                message += 'ê²½ë„ ' + center.getLng() + ' ì´ê³  <br>';
                message += 'ì§€ë„ ë ˆë²¨ì€ ' + level + ' ì…ë‹ˆë‹¤ <br> <br>';
                message += 'ì§€ë„ íƒ€ì…ì€ ' + mapTypeId + ' ì´ê³  <br> ';
                message += 'ì§€ë„ì˜ ë‚¨ì„œìª½ ì¢Œí‘œëŠ” ' + swLatLng.getLat() + ', ' + swLatLng.getLng() + ' ì´ê³  <br>';
                message += 'ë¶ë™ìª½ ì¢Œí‘œëŠ” ' + neLatLng.getLat() + ', ' + neLatLng.getLng() + ' ì…ë‹ˆë‹¤';



                // ê°œë°œìë„êµ¬ë¥¼ í†µí•´ ì§ì ‘ message ë‚´ìš©ì„ í™•ì¸í•´ ë³´ì„¸ìš”.
                // ex) console.log(message);
            }
            // ì§€ë„ í™•ëŒ€ ì¶•ì†Œë¥¼ ì œì–´í•  ìˆ˜ ìˆëŠ”  ì¤Œ ì»¨íŠ¸ë¡¤ì„ ìƒì„±í•©ë‹ˆë‹¤
            var zoomControl = new kakao.maps.ZoomControl();
            map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);

        });





        // -------------------------------------------------------------------------------------------------------------------------------------------------




        function relayout() {

            // ì§€ë„ë¥¼ í‘œì‹œí•˜ëŠ” div í¬ê¸°ë¥¼ ë³€ê²½í•œ ì´í›„ ì§€ë„ê°€ ì •ìƒì ìœ¼ë¡œ í‘œì¶œë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤
            // í¬ê¸°ë¥¼ ë³€ê²½í•œ ì´í›„ì—ëŠ” ë°˜ë“œì‹œ  map.relayout í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤ 
            // windowì˜ resize ì´ë²¤íŠ¸ì— ì˜í•œ í¬ê¸°ë³€ê²½ì€ map.relayout í•¨ìˆ˜ê°€ ìë™ìœ¼ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤
            map.relayout();
        }





        // ë§ˆì»¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ í•´ë‹¹ ì¥ì†Œì˜ ìƒì„¸ì •ë³´ë¥¼ ë³´ì—¬ì¤„ ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ì…ë‹ˆë‹¤
        var placeOverlay = new kakao.maps.CustomOverlay({ zIndex: 1 }),
            contentNode = document.createElement('div'), // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ì—˜ë¦¬ë¨¼íŠ¸ ì…ë‹ˆë‹¤ 
            markers = [], // ë§ˆì»¤ë¥¼ ë‹´ì„ ë°°ì—´ì…ë‹ˆë‹¤
            currCategory = ''; // í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬ë¥¼ ê°€ì§€ê³  ìˆì„ ë³€ìˆ˜ì…ë‹ˆë‹¤
        var ps = new kakao.maps.services.Places(map);

        // ì§€ë„ì— idle ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
        kakao.maps.event.addListener(map, 'idle', searchPlaces);

        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ë…¸ë“œì— css classë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤ 
        contentNode.className = 'placeinfo_wrap';

        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ë…¸ë“œì— mousedown, touchstart ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ë•Œ
        // ì§€ë„ ê°ì²´ì— ì´ë²¤íŠ¸ê°€ ì „ë‹¬ë˜ì§€ ì•Šë„ë¡ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ kakao.maps.event.preventMap ë©”ì†Œë“œë¥¼ ë“±ë¡í•©ë‹ˆë‹¤ 
        addEventHandle(contentNode, 'mousedown', kakao.maps.event.preventMap);
        addEventHandle(contentNode, 'touchstart', kakao.maps.event.preventMap);

        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ ì»¨í…ì¸ ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
        placeOverlay.setContent(contentNode);

        // ê° ì¹´í…Œê³ ë¦¬ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
        addCategoryClickEvent();

        // ì—˜ë¦¬ë¨¼íŠ¸ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function addEventHandle(target, type, callback) {
            if (target.addEventListener) {
                target.addEventListener(type, callback);
            } else {
                target.attachEvent('on' + type, callback);
            }
        }

        // ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function searchPlaces() {
            if (!currCategory) {
                return;
            }

            // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤ 
            placeOverlay.setMap(null);

            // ì§€ë„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤
            removeMarker();

            ps.categorySearch(currCategory, placesSearchCB, { useMapBounds: true });
        }

        // ì¥ì†Œê²€ìƒ‰ì´ ì™„ë£Œëì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜ ì…ë‹ˆë‹¤
        function placesSearchCB(data, status, pagination) {
            if (status === kakao.maps.services.Status.OK) {

                // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´ ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤
                displayPlaces(data);
            } else if (status === kakao.maps.services.Status.ZERO_RESULT) {
                // ê²€ìƒ‰ê²°ê³¼ê°€ ì—†ëŠ”ê²½ìš° í•´ì•¼í•  ì²˜ë¦¬ê°€ ìˆë‹¤ë©´ ì´ê³³ì— ì‘ì„±í•´ ì£¼ì„¸ìš”

            } else if (status === kakao.maps.services.Status.ERROR) {
                // ì—ëŸ¬ë¡œ ì¸í•´ ê²€ìƒ‰ê²°ê³¼ê°€ ë‚˜ì˜¤ì§€ ì•Šì€ ê²½ìš° í•´ì•¼í•  ì²˜ë¦¬ê°€ ìˆë‹¤ë©´ ì´ê³³ì— ì‘ì„±í•´ ì£¼ì„¸ìš”

            }
        }

        // ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function displayPlaces(places) {

            // ëª‡ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ ì„ íƒë˜ì–´ ìˆëŠ”ì§€ ì–»ì–´ì˜µë‹ˆë‹¤
            // ì´ ìˆœì„œëŠ” ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì—ì„œì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤
            var order = document.getElementById(currCategory).getAttribute('data-order');



            for (var i = 0; i < places.length; i++) {

                // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                var marker = addMarker(new kakao.maps.LatLng(places[i].y, places[i].x), order);

                // ë§ˆì»¤ì™€ ê²€ìƒ‰ê²°ê³¼ í•­ëª©ì„ í´ë¦­ í–ˆì„ ë•Œ
                // ì¥ì†Œì •ë³´ë¥¼ í‘œì¶œí•˜ë„ë¡ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
                (function (marker, place) {
                    kakao.maps.event.addListener(marker, 'click', function () {
                        displayPlaceInfo(place);
                    });
                })(marker, places[i]);
            }
        }

        // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function addMarker(position, order) {
            var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png', // ë§ˆì»¤ ì´ë¯¸ì§€ url, ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ë¥¼ ì”ë‹ˆë‹¤
                imageSize = new kakao.maps.Size(27, 28),  // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ í¬ê¸°
                imgOptions = {
                    spriteSize: new kakao.maps.Size(72, 208), // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì˜ í¬ê¸°
                    spriteOrigin: new kakao.maps.Point(46, (order * 36)), // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì¤‘ ì‚¬ìš©í•  ì˜ì—­ì˜ ì¢Œìƒë‹¨ ì¢Œí‘œ
                    offset: new kakao.maps.Point(11, 28) // ë§ˆì»¤ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì´ë¯¸ì§€ ë‚´ì—ì„œì˜ ì¢Œí‘œ
                },
                markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),
                marker = new kakao.maps.Marker({
                    position: position, // ë§ˆì»¤ì˜ ìœ„ì¹˜
                    image: markerImage
                });

            marker.setMap(map); // ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤
            markers.push(marker);  // ë°°ì—´ì— ìƒì„±ëœ ë§ˆì»¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤

            return marker;
        }

        // ì§€ë„ ìœ„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤
        function removeMarker() {
            for (var i = 0; i < markers.length; i++) {
                markers[i].setMap(null);
            }
            markers = [];
        }




        //----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------




        // í´ë¦­í•œ ë§ˆì»¤ì— ëŒ€í•œ ì¥ì†Œ ìƒì„¸ì •ë³´ë¥¼ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¡œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function displayPlaceInfo(place) {
            var content = '<div class="placeinfo">' +
                '   <a class="title" href="' + place.place_url + '" target="_blank" title="' + place.place_name + '">' + place.place_name + '</a>';

            if (place.road_address_name) {
                content += '    <span title="' + place.road_address_name + '">' + place.road_address_name + '</span>' +
                    '  <span class="jibun" title="' + place.address_name + '">(ì§€ë²ˆ : ' + place.address_name + ')</span>';
            } else {
                content += '    <span title="' + place.address_name + '">' + place.address_name + '</span>';
            }

            content += '    <span class="tel">' + place.phone + '</span>' +
                '</div>' +
                '<div class="after"></div>';

            contentNode.innerHTML = content;
            placeOverlay.setPosition(new kakao.maps.LatLng(place.y, place.x));
            placeOverlay.setMap(map);
        }


        // ê° ì¹´í…Œê³ ë¦¬ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
        function addCategoryClickEvent() {
            var category = document.getElementById('category'),
                children = category.children;

            for (var i = 0; i < children.length; i++) {
                children[i].onclick = onClickCategory;
            }
        }

        // ì¹´í…Œê³ ë¦¬ë¥¼ í´ë¦­í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function onClickCategory() {
            var id = this.id,
                className = this.className;

            placeOverlay.setMap(null);

            if (className === 'on') {
                currCategory = '';
                changeCategoryClass();
                removeMarker();
            } else {
                currCategory = id;
                changeCategoryClass(this);
                searchPlaces();
            }
        }

        // í´ë¦­ëœ ì¹´í…Œê³ ë¦¬ì—ë§Œ í´ë¦­ëœ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function changeCategoryClass(el) {
            var category = document.getElementById('category'),
                children = category.children,
                i;

            for (i = 0; i < children.length; i++) {
                children[i].className = '';
            }

            if (el) {
                el.className = 'on';
            }
        }





        // -------------------í‚¤ì›Œë“œ ê²€ìƒ‰-----------------------------------------------------------



        // ë§ˆì»¤ë¥¼ ë‹´ì„ ë°°ì—´ì…ë‹ˆë‹¤
        var markers = [];

        var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div 
            mapOption = {
                level: 2 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
            };


        // ì¥ì†Œ ê²€ìƒ‰ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var ps = new kakao.maps.services.Places();
        // ê²€ìƒ‰ ê²°ê³¼ ëª©ë¡ì´ë‚˜ ë§ˆì»¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ ì¥ì†Œëª…ì„ í‘œì¶œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var infowindow = new kakao.maps.InfoWindow({ zIndex: 1 });

        // í‚¤ì›Œë“œë¡œ ì¥ì†Œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤
        searchPlaces();

        // í‚¤ì›Œë“œ ê²€ìƒ‰ì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function searchPlaces() {

            var keyword = document.getElementById('keyword').value;

            if (!keyword.replace(/^\s+|\s+$/g, '')) {
                // alert('í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return false;
            } else {

            }

            // ì¥ì†Œê²€ìƒ‰ ê°ì²´ë¥¼ í†µí•´ í‚¤ì›Œë“œë¡œ ì¥ì†Œê²€ìƒ‰ì„ ìš”ì²­í•©ë‹ˆë‹¤
            ps.keywordSearch(keyword, placesSearchCB);

        }

        // ì¥ì†Œê²€ìƒ‰ì´ ì™„ë£Œëì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜ ì…ë‹ˆë‹¤
        function placesSearchCB(data, status, pagination) {
            if (status === kakao.maps.services.Status.OK) {

                // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´
                // ê²€ìƒ‰ ëª©ë¡ê³¼ ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤
                displayPlaces(data);

                // í˜ì´ì§€ ë²ˆí˜¸ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤
                displayPagination(pagination);

            } else if (status === kakao.maps.services.Status.ZERO_RESULT) {

                // alert('ê²€ìƒ‰ ê²°ê³¼ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;

            } else if (status === kakao.maps.services.Status.ERROR) {

                //alert('ê²€ìƒ‰ ê²°ê³¼ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                return;

            }
        }






        //----------------------------------------------------------- --------------------


        // ê²€ìƒ‰ ê²°ê³¼ ëª©ë¡ê³¼ ë§ˆì»¤ë¥¼ í‘œì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function displayPlaces(places) {



            // ê²€ìƒ‰ ê²°ê³¼ - =======================
            var listEl = document.getElementById('placesList'),
                menuEl = document.getElementById('menu_wrap'),
                fragment = document.createDocumentFragment(),
                bounds = new kakao.maps.LatLngBounds(),
                listStr = '';

            // ê²€ìƒ‰ ê²°ê³¼ ëª©ë¡ì— ì¶”ê°€ëœ í•­ëª©ë“¤ì„ ì œê±°í•©ë‹ˆë‹¤
            removeAllChildNods(listEl);

            // ì§€ë„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤
            removeMarker();

            for (var i = 0; i < places.length; i++) {

                // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
                var placePosition = new kakao.maps.LatLng(places[i].y, places[i].x),
                    marker = addMarker(placePosition, i),
                    itemEl = getListItem(i, places[i]); // ê²€ìƒ‰ ê²°ê³¼ í•­ëª© Elementë¥¼ ìƒì„±í•©ë‹ˆë‹¤

                // ê²€ìƒ‰ëœ ì¥ì†Œ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§€ë„ ë²”ìœ„ë¥¼ ì¬ì„¤ì •í•˜ê¸°ìœ„í•´
                // LatLngBounds ê°ì²´ì— ì¢Œí‘œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
                bounds.extend(placePosition);


                fragment.appendChild(itemEl);
            }

            // ê²€ìƒ‰ê²°ê³¼ í•­ëª©ë“¤ì„ ê²€ìƒ‰ê²°ê³¼ ëª©ë¡ Elementì— ì¶”ê°€í•©ë‹ˆë‹¤
            listEl.appendChild(fragment);
            menuEl.scrollTop = 0;

            // ê²€ìƒ‰ëœ ì¥ì†Œ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§€ë„ ë²”ìœ„ë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤
            map.setBounds(bounds);

        }






        // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function addMarker(position, idx, title) {
            var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png', // ë§ˆì»¤ ì´ë¯¸ì§€ url, ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ë¥¼ ì”ë‹ˆë‹¤
                imageSize = new kakao.maps.Size(36, 37),  // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ í¬ê¸°
                imgOptions = {
                    spriteSize: new kakao.maps.Size(36, 691), // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì˜ í¬ê¸°
                    spriteOrigin: new kakao.maps.Point(0, (idx * 46) + 10), // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì¤‘ ì‚¬ìš©í•  ì˜ì—­ì˜ ì¢Œìƒë‹¨ ì¢Œí‘œ
                    offset: new kakao.maps.Point(13, 37) // ë§ˆì»¤ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì´ë¯¸ì§€ ë‚´ì—ì„œì˜ ì¢Œí‘œ
                },
                markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),
                marker = new kakao.maps.Marker({
                    position: position, // ë§ˆì»¤ì˜ ìœ„ì¹˜
                    image: markerImage
                });

            marker.setMap(map); // ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤
            markers.push(marker);  // ë°°ì—´ì— ìƒì„±ëœ ë§ˆì»¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤

            return marker;
        }

        // ì§€ë„ ìœ„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤
        function removeMarker() {
            for (var i = 0; i < markers.length; i++) {
                markers[i].setMap(null);
            }
            markers = [];
        }

        // ê²€ìƒ‰ê²°ê³¼ ëª©ë¡ í•˜ë‹¨ì— í˜ì´ì§€ë²ˆí˜¸ë¥¼ í‘œì‹œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function displayPagination(pagination) {
            var paginationEl = document.getElementById('pagination'),
                fragment = document.createDocumentFragment(),
                i;

            // ê¸°ì¡´ì— ì¶”ê°€ëœ í˜ì´ì§€ë²ˆí˜¸ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤
            while (paginationEl.hasChildNodes()) {
                paginationEl.removeChild(paginationEl.lastChild);
            }

            for (i = 1; i <= pagination.last; i++) {
                var el = document.createElement('a');
                el.href = "#";
                el.innerHTML = i;

                if (i === pagination.current) {
                    el.className = 'on';
                } else {
                    el.onclick = (function (i) {
                        return function () {
                            pagination.gotoPage(i);
                        }
                    })(i);
                }

                fragment.appendChild(el);
            }
            paginationEl.appendChild(fragment);
        }

        // ê²€ìƒ‰ê²°ê³¼ ëª©ë¡ ë˜ëŠ” ë§ˆì»¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        // ì¸í¬ìœˆë„ìš°ì— ì¥ì†Œëª…ì„ í‘œì‹œí•©ë‹ˆë‹¤
        function displayInfowindow(marker, title) {
            var content = '<div style="padding:5px;z-index:1;">' + title + '</div>';

            infowindow.setContent(content);
            infowindow.open(map, marker);
        }

        // ê²€ìƒ‰ê²°ê³¼ ëª©ë¡ì˜ ìì‹ Elementë¥¼ ì œê±°í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function removeAllChildNods(el) {
            while (el.hasChildNodes()) {
                el.removeChild(el.lastChild);
            }
        }





        // ì§€ë„íƒ€ì… ì»¨íŠ¸ë¡¤ì˜ ì§€ë„ ë˜ëŠ” ìŠ¤ì¹´ì´ë·° ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í˜¸ì¶œë˜ì–´ ì§€ë„íƒ€ì…ì„ ë°”ê¾¸ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function setMapType(maptype) {
            var roadmapControl = document.getElementById('btnRoadmap');
            var skyviewControl = document.getElementById('btnSkyview');
            if (maptype === 'roadmap') {
                map.setMapTypeId(kakao.maps.MapTypeId.ROADMAP);
                roadmapControl.className = 'selected_btn';
                skyviewControl.className = 'btn';
            } else {
                map.setMapTypeId(kakao.maps.MapTypeId.HYBRID);
                skyviewControl.className = 'selected_btn';
                roadmapControl.className = 'btn';
            }
        }

        // ì§€ë„ í™•ëŒ€, ì¶•ì†Œ ì»¨íŠ¸ë¡¤ì—ì„œ í™•ëŒ€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í˜¸ì¶œë˜ì–´ ì§€ë„ë¥¼ í™•ëŒ€í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function zoomIn() {
            map.setLevel(map.getLevel() - 1);
        }

        // ì§€ë„ í™•ëŒ€, ì¶•ì†Œ ì»¨íŠ¸ë¡¤ì—ì„œ ì¶•ì†Œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í˜¸ì¶œë˜ì–´ ì§€ë„ë¥¼ í™•ëŒ€í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
        function zoomOut() {
            map.setLevel(map.getLevel() + 1);
        }




        // //-----------------ê²€ìƒ‰ì°½ ì´ˆê¸°í™”---------------------------------------------


        // function clearSearchBox() {
        //     document.getElementById("keyword").value = "";
        // }


        // ------------ì‚¬ì´ë“œë°”í•¨ìˆ˜------------

        function toggleSidebar(index) {
            let namebtn = document.getElementById("namebtn");
            let name = document.getElementById("name" + index);
            namebtn.innerHTML = name.innerHTML;

            let todayDiesel = document.getElementById("diesel");
            let todayGasoline = document.getElementById("gasoline");
            let gasRegion = document.getElementById("gasRegion");
            let priceNum = document.getElementById("priceNum");
            let storename = namebtn.innerText;

            if(name){
                fetch("http://localhost:8080/gonggongyung/gogo/gasstation?type=diesel&name=" + storename)
                    .then((resp) => resp.json())
                    .then((obj) => {
                        gasRegion.innerText = obj.region;
                        priceNum.innerText = obj.pricenum;
                        todayDiesel.innerText = obj.dieselprice + "ì›";
                        todayGasoline.innerText = obj.gasolineprice + "ì›";
                    })
                    .catch((e) => console.log(e))
                
                gasRegion.innerText = "~";
                priceNum.innerText = "~";
                todayDiesel.innerText = "~";
                todayGasoline.innerText = "~";
            }

            var before = document.getElementsByClassName("active")[0] // ì°½ ì‹¤ì‹œê°„ ë³€ë™í˜„í™©
            if (before && document.getElementsByClassName("active")[0] != index) {
                before.nextElementSibling.style.maxHeight = null;
                before.classList.remove("active");
            }
            document.querySelector('.sidebar').classList.toggle('active');



        }

        function closeSidebar() {
            document.querySelector('.sidebar').classList.toggle('active');

        }




        //-----------------------------------í˜„ìœ„ì¹˜----------------------------------------



        // gpsë¡œ ìœ„ì¹˜ë¶ˆëŸ¬ì˜¤ê¸°
        function getCurrentPos() {
            navigator.geolocation.getCurrentPosition(function (position) {
                var mapContainer = document.getElementById('map'); // ì§€ë„ë¥¼ í‘œì‹œí•  div 
                let lat = 35.15959895331954;
                let lon = 129.0601078522617;
                // var lat = position.coords.latitude, // ìœ„ë„
                //     lon = position.coords.longitude; // ê²½ë„
                var locPosition = new kakao.maps.LatLng(lat, lon), // ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ë¥¼ geolocationìœ¼ë¡œ ì–»ì–´ì˜¨ ì¢Œí‘œë¡œ ìƒì„±í•©ë‹ˆë‹¤
                    message = '<div style="height: 25px; padding:2px 8px; m argin: 3px;">ë©”ë¡±~~~~~~~~~</div>'    // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œë  ë‚´ìš©ì…ë‹ˆë‹¤

                displayMarker(locPosition, message, mapOption);

                map.setLevel(2);
            });
            // ì§€ë„ì— ë§ˆì»¤ì™€ ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
            function displayMarker(locPosition, message) { // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                var imageSrc_loc = "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FkKkSb%2FbtrZBswymE9%2FNeYXXnsq79d4Mk6vEl3gKk%2Fimg.png";
                var imageSize_loc = new kakao.maps.Size(120, 120); // ë§ˆì»¤ ì´ë¯¸ì§€ ìƒì„±
                var markerImage_loc = new kakao.maps.MarkerImage(imageSrc_loc, imageSize_loc);
                var marker_loc = new kakao.maps.Marker({
                    map: map,
                    position: locPosition,
                    image: markerImage_loc

                });
                var iwContent = message, // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
                    iwRemoveable = true;
                // ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                var infowindow = new kakao.maps.InfoWindow({ content: iwContent });
                // ì¸í¬ìœˆë„ìš°ë¥¼ ë§ˆì»¤ìœ„ì— í‘œì‹œí•©ë‹ˆë‹¤
                infowindow.open(map, marker_loc);
                // ì§€ë„ ì¤‘ì‹¬ì¢Œí‘œë¥¼ ì ‘ì†ìœ„ì¹˜ë¡œ ë³€ê²½í•©ë‹ˆë‹¤
                map.setCenter(locPosition);
            }
        };
        //================================chart========================================
        function showchart() {
            
            // let month = today.getMonth() + 1;
            // let date = today.getDate();
            // let newToday = dateCalculator(today, -10);
            // console.log(newToday);


            const ctx = document.getElementById('myChart');

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [dateCalculator(-6), dateCalculator(-5), dateCalculator(-4), dateCalculator(-3), dateCalculator(-2), dateCalculator(-1), dateCalculator(0)],
                    datasets: [{
                        label: 'chart',
                        data: [1, 2, 19, 3, 5, 2, 3],
                        borderWidth: 2, 
                        borderColor: '#160d69',
                        backgroundColor : '#9BBBDF',
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });


        }

        function dateCalculator(n) {
            let today = new Date();
            let newday = new Date(today.setDate(today.getDate() + n));
            let newmonth = newday.getMonth() + 1
            let newdate = newday.getDate();
            return newmonth + "/" + newdate;
        }

        function setOilType(oiltype) {
            let todayDiesel = document.getElementById("diesel");
            let todayGasoline = document.getElementById("gasoline");
            let gasRegion = document.getElementById("gasRegion");
            let priceNum = document.getElementById("priceNum");
            let storename = namebtn.innerText;

            var dieselControl = document.getElementById('btnDiesel');
            var gasolineControl = document.getElementById('btnGasoline');
            
            if (oiltype === 'diesel') {
                // map.setMapTypeId(kakao.maps.MapTypeId.ROADMAP);
                dieselControl.className = 'selected_btn';
                gasolineControl.className = 'btn';

                fetch("http://localhost:8080/gonggongyung/gogo/gasstation?type=diesel&name=" + storename)
                    .then((resp) => resp.json())
                    .then((obj) => {
                        gasRegion.innerText = obj.region;
                        priceNum.innerText = obj.pricenum;
                        todayDiesel.innerText = obj.dieselprice + "ì›";
                        todayGasoline.innerText = obj.gasolineprice + "ì›";
                    })
                    .catch((e) => console.log(e))
                
                gasRegion.innerText = "~";
                priceNum.innerText = "~";
                todayDiesel.innerText = "~";
                todayGasoline.innerText = "~";

            } else {
                // map.setMapTypeId(kakao.maps.MapTypeId.HYBRID);
                gasolineControl.className = 'selected_btn';
                dieselControl.className = 'btn';

                fetch("http://localhost:8080/gonggongyung/gogo/gasstation?type=gasoline&name=" + storename)
                    .then((resp) => resp.json())
                    .then((obj) => {
                        gasRegion.innerText = obj.region;
                        priceNum.innerText = obj.pricenum;
                        todayDiesel.innerText = obj.dieselprice + "ì›";
                        todayGasoline.innerText = obj.gasolineprice + "ì›";
                    })
                    .catch((e) => console.log(e))
                
                gasRegion.innerText = "~";
                priceNum.innerText = "~";
                todayDiesel.innerText = "~";
                todayGasoline.innerText = "~";
                }
            }


    </script>
</body>

</html>